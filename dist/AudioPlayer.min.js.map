{"version":3,"file":"AudioPlayer.min.js","sources":["../src/AudioPlayerStyles.js","../src/AudioPlayerProviders.js","../src/AudioPlayerHelpers.js","../src/AudioPlayerChapterList.js","../src/AudioPlayerNavigation.js","../src/AudioPlayerMedia.js","../src/MediaProgressBar.js","../src/MediaPlaybackRate.js","../src/MediaSleepTimer.js","../src/AudioPlayerSearch.js","../src/AudioPlayerBibleList.js","../src/AudioPlayer.js"],"sourcesContent":["const defaultClasses = {\n    playerHeader: 'select-none ',\n    playerContainer: 'select-none w-full mx-auto max-w-7xl',\n    bibleListContainer: 'select-none ',\n    chapterListContainer: 'select-none relative w-full max-w-4xl mx-auto',\n    bibleListGrid: 'select-none grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3',\n    bibleBlockInfoWrap: 'select-none flex flex-row justify-between gap-4 max-w-md w-full mx-auto bg-stone-100 border border-stone-200 mt-12 p-3',\n    bibleBlock: 'select-none flex flex-col justify-between text-sm text-center md:text-base lg:text-lg font-semibold text-black',\n    bibleBlockTitleGroup: 'select-none flex-shrink truncate',\n    bibleBlockVernacular: 'select-none truncate text-sm mb-1',\n    bibleBlockTitle: 'select-none truncate text-2xl font-semibold',\n    bibleBlockLanguageGroup: 'select-none ',\n    bibleBlockIso: 'select-none text-sm',\n    bibleBlockButtonGroup: 'select-none flex flex-col justify-between',\n\n    container: 'select-none audio-player-container mx-auto max-w-7xl w-full',\n    audio: 'select-none ',\n    controlsContainer: 'select-none controls-container flex flex-col',\n    navRow: 'select-none flex flex-row items-center justify-center gap-4 py-4 bg-stone-100 border border-stone-200 w-full max-w-md mx-auto',\n    prevBookButton: 'select-none prev-book-button flex justify-center items-center',\n    prevChapterButton: 'select-none prev-chapter-button flex justify-center items-center',\n    playPauseButton: 'select-none play-pause-button flex justify-center items-center',\n    playPauseIcon: 'select-none icon-play',\n    nextChapterButton: 'select-none next-chapter-button flex justify-center items-center',\n    nextBookButton: 'select-none next-book-button flex justify-center items-center',\n    controlRow2: 'select-none grid grid-cols-5 mb-1',\n    leftControls: 'select-none flex flex-row justify-center items-center col-span-2 space-x-6',\n\n    playbackRate: {\n        wrapper: 'select-none flex mx-auto w-full max-w-md justify-center px-8 py-2 bg-stone-100 text-xs',\n        display: 'select-none mx-1 text-stone-400 text-sm',\n        increase: 'select-none w-6 h-6 border-2 rounded-2xl text-stone-500',\n        decrease: 'select-none w-6 h-6 border-2 rounded-2xl text-stone-500',\n        disabled: 'select-none opacity-50'\n    },\n\n    rightControls: 'select-none flex flex-row justify-center items-center col-span-2 space-x-6',\n    playSpeedControl: 'select-none flex flex-row justify-center items-center text-xs',\n    decrementIcon: 'size-6',\n    incrementIcon: 'size-6',\n    decreaseSpeedButton: 'select-none w-6 h-6 border-2 rounded-2xl hover:border-blue-600 dark:hover:border-white text-stone-500 dark:hover:text-white',\n    increaseSpeedButton: 'select-none w-6 h-6 border-2 rounded-2xl hover:border-blue-600 dark:hover:border-white text-stone-500 dark:hover:text-white',\n    prevSkipButton: 'select-none flex justify-center items-center text-stone-400 hover:text-blue-600 dark:text-white dark:hover:text-blue-400',\n    nextSkipButton: 'select-none flex justify-center items-center text-stone-400 hover:text-blue-600 dark:text-white dark:hover:text-blue-400',\n\n    progress: {\n        container: 'select-none flex mx-auto w-full max-w-md justify-around px-1 pt-4 bg-stone-100 text-xs',\n        wrapper: 'select-none mx-auto min-w-80 mx-3 w-3/4 sm:w-5/6 h-3 rounded-lg relative border bg-gradient-to-br shadow-inner border-stone-300 from-white to-stone-200 dark:from-neutral-50 dark:to-stone-400 border-stone-500',\n        barInner: 'select-none h-3 w-0 bg-blue-600 rounded-md',\n        circleTip: 'select-none absolute top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-5 h-5 bg-blue-600 rounded-full border border-blue-500',\n        currentTimeDisplay: 'select-none text-black',\n        durationDisplay: 'select-none text-black',\n        tick: 'select-none w-[1.5px] absolute top-0 h-full bg-stone-400'\n    },\n    \n    mediaPlayerWrap: 'select-none w-full flex flex-col justify-center',\n    mediaPlayerHeader: 'select-none ',\n    mediaPlayerBody: 'select-none ',\n    mediaPlayerNavRow: 'select-none grid grid-cols-5 px-2 text-stone-700 dark:text-stone-300 divide-x divide-stone-500 dark:divide-stone-600',\n    bibleListNavButton: 'select-none ',\n    bookListNavButton: 'select-none ',\n    chapterListNavButton: 'select-none ',\n\n    volumeRow: 'select-none flex mx-auto w-full max-w-md justify-center items-center px-8 bg-stone-100 text-xs',\n    volumeControl: 'select-none volume-control w-full',\n    volumeInput: 'select-none w-full',\n    volumeLabel: 'select-none flex flex-row pl-2 mx-4 w-1/2',\n\n    selectBookChapterWrap: 'select-none relative bg-stone-100 flex flex-row gap-2 w-full max-w-md mx-auto',\n    selectBook: 'select-none inline-flex items-center gap-x-1.5 bg-stone-100 hover:bg-stone-200 px-3 py-2 w-full',\n    selectChapter: 'select-none inline-flex items-center text-center bg-stone-100 w-12 hover:bg-stone-200 border-none appearance-none',\n    selectVerseSeparator: 'select-none inline-flex items-center bg-stone-100',\n    selectVerse: \"inline-flex items-center text-center bg-stone-100 w-12 hover:bg-stone-200 border-none appearance-none\",\n\n    bibleButton: {\n        wrapper: 'select-none flex flex-row bg-stone-100 border border-stone-200 rounded min-h-20 hover:bg-stone-200',\n        languageWrap: 'select-none py-1 bg-stone-200 h-full w-24 flex flex-col justify-center items-center',\n        language: 'select-none text-sm font-medium text-stone-900',\n        iso: 'select-none truncate font-mono mt-1 text-sm text-stone-500',\n        titleWrap: 'select-none py-1 h-full w-full flex flex-col justify-center items-center',\n        title: 'select-none line-clamp-2 text-center text-sm font-medium text-stone-900',\n        vernacular: 'select-none line-clamp-1 text-sm text-stone-500',\n    },\n\n    sleepTimerButton: 'select-none sleep-timer-button group block py-1.5 px-1',\n    sleepTimerDuration: 'select-none text-xs pl-1 pt-2 inline-block timer-display',\n    sleepTimerWrap: 'select-none flex flex-row justify-center align-start text-stone-400 hover:text-blue-600',\n    searchWrapper: 'select-none mx-auto flex items-center w-1/3 my-3',\n    searchInput: 'select-none px-4 py-2 w-full max-w-7xl mx-auto bg-white border border-stone-200',\n    \n    searchInputContainer: 'select-none flex w-full max-w-xl mx-auto my-4',\n    bookListContainer: 'select-none w-full',\n    bookListGrid: 'select-none grid grid-cols-3 md:grid-cols-4 gap-2',\n    bookListButton: 'select-none bg-stone-100 border rounded md:rounded-lg',\n    bookListButtonActive: 'select-none bg-stone-100 border border-stone-300',\n    bookListTitle: 'select-none font-medium text-sm lg:text-base',\n    bookListId: 'select-none w-full flex justify-end opacity-60 text-sm mr-8',\n    chapterButton: 'select-none bg-stone-100/90 w-12 h-12 m-2 border border-stone-700 rounded text-lg hover:bg-stone-300',\n    chapterButtonActive: 'select-none bg-stone-500 text-stone-100'\n};\n\n/**\n * Merges custom CSS class definitions with a set of default classes. If a key in the custom classes starts\n * with an underscore, it will overwrite the corresponding default class after removing the underscore.\n * Keys without an underscore will simply merge by replacing the existing default with the custom class.\n *\n * @param {Object} customClasses - An object containing custom class definitions. Keys starting with\n *                                 an underscore indicate classes that should overwrite default classes.\n * @returns {Object} An object containing the merged classes.\n */\nexport const mergeClasses = (customClasses = {}) => {\n    const mergedClasses = { ...defaultClasses };\n    for (const key of Object.keys(customClasses)) {\n        if (key.startsWith('_')) {\n            mergedClasses[key.substring(1)] = customClasses[key];\n        } else {\n            mergedClasses[key] = customClasses[key];\n        }\n    }\n\n    return mergedClasses;\n};\n\nconst defaultIcons = {\n    speedSlow: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 30\"><path d=\"M4.83 10.06a.67.67 0 1 0 0 1.34.67.67 0 0 0 0-1.34zm.56-2.02c.43 0 .85.09 1.22.28 1.07.55 1.4 1.46 1.64 2.4.3 1.22-.07 1.95.12 2.75.17.77 1.14 3.28 4.6 5.41 3.1 1.92 8.61 2.37 15.01.26.44-.14.87-.08 1 .72a13 13 0 0 0 .76 2.78c.15.36.2.66.1.93-.11.27-.35.43-.63.56-.93.42-1.77.6-2.73.63-.36.01-.65-.15-.84-.38a1.6 1.6 0 0 1-.3-.77c-.1-.65-.16-1.37-.16-2.08 0-.25-.13-.39-.4-.25a10.32 10.32 0 0 1-5.08 1.08 9.96 9.96 0 0 1-4.97-1.46c-.25-.16-.44-.02-.44.21-.02.74.03 1.52.14 2.25.06.4.04.71-.14.94-.17.24-.45.33-.76.38a6.5 6.5 0 0 1-2.88-.16 1.26 1.26 0 0 1-.85-.76 2.01 2.01 0 0 1-.1-.93c.13-1.23.06-2.66.69-3.97.17-.36.18-.54-.34-.62-2.83-.38-6.17-2.19-7.4-3.84a3.03 3.03 0 0 1-.54-1.1c-.07-.33-.05-.68.44-.48.58.24 1.24.21 1.88-.03.3-.12.16-.44-.15-.32-.53.16-1.11.05-1.64-.14-.43-.15-.6-.53-.67-.88-.09-.5.08-1 .33-1.38a4.84 4.84 0 0 1 1.8-1.71c.42-.2.86-.31 1.29-.32Zm9.17 1.25.53 2.31a12.91 12.91 0 0 0-2.73 4.28c-.17.5.28.74.41.4.59-1.49 1.6-3.16 2.67-4.3l3.5 1.42a8.7 8.7 0 0 0-.32 2.66c0 .94.1 1.83.12 2.5.02.41.54.4.52.04-.03-.69-.12-1.6-.12-2.54 0-.98.1-1.95.32-2.57l3.99-.54a13.05 13.05 0 0 1 2.63 4.57c.11.35.59.11.5-.16a13.5 13.5 0 0 0-2.67-4.68l1.84-1.84c1.01.45 2.03 1.6 2.75 2.78.4.66.7 1.33.9 1.86.1.26.14.52.18.77l.2-.08c.5-.2.85.02 1.01.42.21.52-.09.9-.47 1.07-7.3 3.24-13.8 2.76-17.06.75-3.33-2.06-4.2-4.46-4.35-5.07-.1-.42.14-.72.5-.83.43-.13.84.03 1.01.44.24-.62.8-1.65 1.29-2.13a5.37 5.37 0 0 1 2.85-1.53zm4.38-1.24c.5-.02 1.02 0 1.52.06 2 .24 3.86 1.1 4.76 2.48l-1.8 1.84-4.12.56-3.7-1.5-.54-2.37a7.93 7.93 0 0 1 3.88-1.07z\" /></svg>`,\n    speedFast: ``,\n    sleepTimer: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"w-7 h-7\"><path d=\"M22.97 16.84h-3.25l3.56-3.26c.07-.05.1-.08.1-.14a.43.4 0 0 0-.37-.56h-4.38a.45.41 0 0 0 0 .82h3.29l-3.6 3.25a.43.4 0 0 0-.09.43.43.4 0 0 0 .4.25h4.34a.43.4 0 0 0 0-.79zm-6.44 1.98h-2.45l2.79-2.49a.43.4 0 0 0 .06-.45.43.4 0 0 0-.4-.26h-3.48a.45.41 0 0 0 0 .82h2.48l-2.79 2.5-.06.14a.31.28 0 0 0 0 .28.43.4 0 0 0 .37.28h3.5a.45.41 0 0 0 0-.82zm2.75 3.9h-1.42l1.73-1.55.1-.14v-.28a.43.4 0 0 0-.44-.29h-2.48a.43.4 0 0 0 0 .8h1.43l-1.74 1.55a.43.4 0 0 0-.09.46.43.4 0 0 0 .4.22h2.48a.43.4 0 0 0 0-.79z\" style=\"stroke-width:.296239\"/></svg>`,\n    chapters: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5\" /></svg>`,\n    bibles: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\" /></svg>`,\n    books: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z\" /></svg>`,\n    prevBook: `<svg xmlns=\"http://www.w3.org/2000/svg\" stroke=\"currentColor\" class=\"w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300\" viewBox=\"0 0 23 13\"><g fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"round\" stroke-width=\"1.5\"><path stroke-linejoin=\"round\" d=\"M22 2.7c0-.9-1-1.4-1.7-1l-7 4a1.1 1.1 0 0 0 0 2l7 4a1.1 1.1 0 0 0 1.7-.9V2.7h0Zm-9.7 0c0-.9-1-1.4-1.7-1l-7.1 4a1.1 1.1 0 0 0 0 2l7 4a1.1 1.1 0 0 0 1.8-.9V2.7h0Z\"/><path d=\"M1.5 1v11\"/></g></svg>`,\n    nextBook: `<svg xmlns=\"http://www.w3.org/2000/svg\" stroke=\"currentColor\" class=\"w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300\" viewBox=\"0 0 23 13\"><g fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"round\" stroke-width=\"1.5\"><path stroke-linejoin=\"round\" d=\"M1 2.7c0-.9 1-1.4 1.7-1l7 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.7-.9V2.7h0Zm9.7 0c0-.9 1-1.4 1.7-1l7.1 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.8-.9V2.7h0Z\"/><path d=\"M21.5 1v11\"/></g></svg>`,\n    prevChapter: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" class=\"w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 16.8c0 .9-1 1.4-1.7 1l-7-4a1.1 1.1 0 0 1 0-2l7-4a1.1 1.1 0 0 1 1.7.9v8.1zm-9.8 0c0 .9-.9 1.4-1.6 1l-7.1-4a1.1 1.1 0 0 1 0-2l7-4a1.1 1.1 0 0 1 1.8.9v8.1z\"/></svg>`,\n    nextChapter: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" class=\"w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3 8.7c0-.9 1-1.4 1.7-1l7 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.7-.9V8.7zm9.8 0c0-.9.9-1.4 1.6-1l7.1 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.8-.9V8.7z\"/></svg>`,\n    prevSkip: `<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-7 h-7\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M16 1a2 2 0 0 0-1.4.6l-3 3a2 2 0 0 0 0 2.8l3 3a2 2 0 1 0 2.8-2.8L15.8 6l1.6-1.6A2 2 0 0 0 16 1zm8 0a2 2 0 0 0-1.4.6l-3 3a2 2 0 0 0 0 2.8l3 3a2 2 0 0 0 3.2-2.3A16 16 0 0 1 24 40 16 16 0 0 1 8 24a2 2 0 1 0-4 0A20 20 0 1 0 25.7 4 2 2 0 0 0 24 1zm.8 16c-.7 0-1.3.5-1.4 1.2l-.9 4.5a1.5 1.5 0 0 0 1.5 1.8h3.3c1 0 1.7.8 1.7 1.8 0 1.4-1 1.7-2 1.7-1.6 0-2.5-.6-2.6-.7a1.5 1.5 0 0 0-1.8 2.4c.1.1 1.7 1.3 4.4 1.3 3 0 5-2 5-4.8 0-2.6-2.1-4.7-4.8-4.7h-1.4l.3-1.5H30a1.5 1.5 0 1 0 0-3h-5.2zm-6.4 0H18l-3 1a1.5 1.5 0 0 0 1 3l1-.4v8.9a1.5 1.5 0 1 0 3 0v-11a1.5 1.5 0 0 0-1.6-1.5z\" style=\"stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-dashoffset:0;stroke-linejoin:miter;stroke-miterlimit:4;fill-rule:nonzero;opacity:1\" transform=\"matrix(.5 0 0 .5 1 1.7)\"/></svg>`,\n    nextSkip: `<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-7 h-7\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M24 .5A1.5 1.5 0 0 0 23 3l1 1a20 20 0 1 0 21 19.4 1.5 1.5 0 1 0-3 0A17 17 0 1 1 23.8 7.2l-.9.8a1.5 1.5 0 1 0 2.2 2.2l3.5-3.5c.5-.6.5-1.6 0-2.2L25 1c-.3-.3-.7-.4-1.1-.4zm7 0A1.5 1.5 0 0 0 30 3l2.4 2.4-2.5 2.4a1.5 1.5 0 1 0 2.2 2.2l3.5-3.5c.5-.6.5-1.6 0-2.2L32 1c-.3-.3-.7-.4-1.1-.4zM19.6 17h-.3l-3 1a1.3 1.3 0 0 0 .8 2.4l1.4-.4v9.8a1.3 1.3 0 1 0 2.5 0V18.1a1.2 1.2 0 0 0-1.4-1.2zm6.1 0c-.6 0-1.1.4-1.2 1l-.8 4.8a1.3 1.3 0 0 0 1.2 1.5h3.5a2 2 0 0 1 2 2c0 .8-.1 1.2-.5 1.6a3 3 0 0 1-1.8.5c-1.7 0-3-.8-3-.8a1.3 1.3 0 1 0-1.5 2c.5.3 2 1.3 4.5 1.3a5 5 0 0 0 3.5-1.2 4.6 4.6 0 0 0-3.2-8h-2l.4-2.2h4.5a1.3 1.3 0 1 0 0-2.5h-5.6z\" style=\"stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-dashoffset:0;stroke-linejoin:miter;stroke-miterlimit:4;fill-rule:nonzero\" transform=\"matrix(.5 0 0 .5 .5 1.8)\"/></svg>`,\n    play: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" class=\"w-10 h-10 hover:text-blue-400\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.3 5.7c0-.9.9-1.4 1.6-1L18.5 11a1.1 1.1 0 0 1 0 2L6.9 19.3a1.1 1.1 0 0 1-1.6-1V5.7z\"/></svg>`,\n    pause: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" class=\"w-10 h-10 hover:text-blue-600 dark:hover:text-blue-300\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.8 5.3v13.4M8.2 5.3v13.4\"/></svg>`,\n    volumeIcon: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"size-5\" viewBox=\"0 0 20 20\"><path d=\"M11 4a1 1 0 0 0-2-1L5 7H3a1 1 0 0 0-1 0 7 7 0 0 0 0 3v3h3l4 4a1 1 0 0 0 2-1V4Zm5 1a1 1 0 0 0-1 1 6 6 0 0 1 0 8 1 1 0 0 0 1 1 7 7 0 0 0 0-10Z\"/><path d=\"M14 7a1 1 0 0 0-1 1 3 3 0 0 1 0 4 1 1 0 0 0 1 1 4 4 0 0 0 0-6Z\"/></svg>`,\n\n\n}\n\nexport const mergeIcons = (customIcons = {}) => {\n    const mergedIcons = { ...defaultIcons };\n    for (const key of Object.keys(customIcons)) {\n        mergedIcons[key] = customIcons[key];\n    }\n    return mergedIcons;\n};\n\nconst defaultArt = {}\nexport const mergeArt = (customArt = {}) => {\n    const mergedArt = { ...defaultArt };\n    for (const key of Object.keys(customArt)) {\n        mergedArt[key] = customArt[key];\n    }\n    return mergedArt;\n};","const BASE_API_URL = 'https://arc.dbs.org';\nconst BASE_CONTENT_URL = 'https://content.dbs.org';\nconst BASE_DBP_URL = 'https://4.dbt.io/api/bibles';\n\nexport async function loadProviders(player) {\n    const providerFunctions = {\n        hark: harkList,\n        dbp: dbpList,\n    };\n      \n    for (const provider of player.providers) {\n        if (providerFunctions[provider]) {\n          player.bibles = player.bibles.concat(await providerFunctions[provider]());\n        }\n    }\n}\n\nexport async function harkList(country_id = 'all', provider = 'all') {\n    const baseBibles = await fetch(`${BASE_API_URL}/api/bibles`).then(response => response.json());\n    let bibles = await fetch(`${BASE_CONTENT_URL}/bibles/audio-new/index.txt`).then(response => response.text());\n\n    let output = [];\n\n    bibles = bibles.split('\\n');\n    let unmatchedBibles = [];\n    bibles.forEach(bible => {\n        let bible_id = bible.split('_')[0];\n        if (bible_id.includes('-')) {\n            bible_id = bible.split('-')[0];\n        }\n        let found = false;\n\n        for (let i = 0; i < baseBibles.length; i++) {\n            const baseBible = baseBibles[i];\n            if (bible_id === baseBible.id) {\n                output.push({\n                    id: bible,\n                    abbr: baseBible.id,\n                    iso: baseBible.iso,\n                    ln: baseBible.ln,\n                    tt: baseBible.tt,\n                    tv: baseBible.tv,\n                    ci: baseBible.ci,\n                    cn: baseBible.cn,\n                    tp: \"hark\"\n                });\n                found = true;\n                break; // Exit loop once match is found\n            }\n        }\n\n        if (!found) {\n            unmatchedBibles.push(bible_id); // Add unmatched bible_id to array\n        }\n    });\n\n    if (unmatchedBibles.length > 0) {\n        //console.log(\"Unmatched bible_ids:\", unmatchedBibles);\n    } else {\n        //console.log(\"All bible_ids matched in output.\");\n    }\n\n    if (country_id !== 'all') {\n        output = output.filter(bible => bible.ci === country_id);\n    }\n\n    if (provider !== 'all') {\n        output = output.filter(bible => bible.id.includes(provider));\n    }\n\n    return output;\n}\n\nexport async function harkSelect(id) {\n    const books = {\n        \"01\": \"GEN\", \"02\": \"EXO\", \"03\": \"LEV\", \"04\": \"NUM\", \"05\": \"DEU\", \"06\": \"JOS\",\n        \"07\": \"JDG\", \"08\": \"RUT\", \"09\": \"1SA\", \"10\": \"2SA\", \"11\": \"1KI\", \"12\": \"2KI\",\n        \"13\": \"1CH\", \"14\": \"2CH\", \"15\": \"EZR\", \"16\": \"NEH\", \"17\": \"EST\", \"18\": \"JOB\",\n        \"19\": \"PSA\", \"20\": \"PRO\", \"21\": \"ECC\", \"22\": \"SNG\", \"23\": \"ISA\", \"24\": \"JER\",\n        \"25\": \"LAM\", \"26\": \"EZK\", \"27\": \"DAN\", \"28\": \"HOS\", \"29\": \"JOL\", \"30\": \"AMO\",\n        \"31\": \"OBA\", \"32\": \"JON\", \"33\": \"MIC\", \"34\": \"NAM\", \"35\": \"HAB\", \"36\": \"ZEP\",\n        \"37\": \"HAG\", \"38\": \"ZEC\", \"39\": \"MAL\", \"40\": \"MAT\", \"41\": \"MRK\", \"42\": \"LUK\",\n        \"43\": \"JHN\", \"44\": \"ACT\", \"45\": \"ROM\", \"46\": \"1CO\", \"47\": \"2CO\", \"48\": \"GAL\",\n        \"49\": \"EPH\", \"50\": \"PHP\", \"51\": \"COL\", \"52\": \"1TH\", \"53\": \"2TH\", \"54\": \"1TI\",\n        \"55\": \"2TI\", \"56\": \"TIT\", \"57\": \"PHM\", \"58\": \"HEB\", \"59\": \"JAS\", \"60\": \"1PE\",\n        \"61\": \"2PE\", \"62\": \"1JN\", \"63\": \"2JN\", \"64\": \"3JN\", \"65\": \"JUD\", \"66\": \"REV\"\n    };\n\n    const filenameRequest = await fetch(`${BASE_CONTENT_URL}/bibles/audio-new/${id}/index.txt`);\n    const filenames = await filenameRequest.text();\n    const booksMap = new Map();\n    const filenamePattern = /^\\.\\/\\w+\\/(\\d+)_(\\w+)_(\\d+)\\.mp3$/;\n\n    filenames.split('\\n').sort().forEach((filename) => {\n        const match = filename.match(filenamePattern);\n        if (match) {\n            const [, bookNumber, bookName, chapterString] = match;\n            const chapterNumber = parseInt(chapterString, 10);\n            const key = books[bookNumber];\n            if (!booksMap.has(key)) {\n                booksMap.set(key, {\n                    name: bookName,\n                    book_number: bookNumber,\n                    book_id: key,\n                    chapters: []\n                });\n            }\n            booksMap.get(key).chapters.push(chapterNumber);\n        }\n    });\n\n    let timingFiles = [];\n    const response = await fetch(`${BASE_CONTENT_URL}/bibles/audio-new/${id}/timingfiles/_index.txt`);\n    if (response.ok) {\n        timingFiles = (await response.text()).split(\"\\n\");\n    } else {\n        console.warn('timing files could not be found');\n    }\n\n    for (const book of booksMap.values()) {\n        book.chapters.sort((a, b) => a - b);\n    }\n\n    return {\n        bible_id: id.split('_')[0],\n        bible_folder: id,\n        timestamps: timingFiles,\n        data: Array.from(booksMap.values())\n    };\n}\n\nexport async function dbpList(country_id) {\n\n    let initial_path = `https://4.dbt.io/api/bibles?v=4&key=${key}&media=audio`;\n    if (country_id) {\n        initial_path += '&country=' + country_id;\n    }\n    bibles = await fetch(initial_path).then(function (response) {\n        return response.json();\n    });\n    let last_page = bibles.meta.pagination.last_page;\n    let current_page = 1;\n    while (current_page >= last_page) {\n        current_page++;\n        results = await fetch(initial_path + 'page=' + current_page).then(function (response) {\n            return response.json();\n        });\n        bibles.data.concat(results.data);\n    }\n\n    return bibles;\n}\n\nexport async function dbpAudioFileSet(bibleId, filesets) {\n    for (const fileset of filesets) {\n        if (fileset.codec === 'mp3') {\n            current_fileset = fileset.id;\n            break;\n        }\n    }\n\n    let books = await fetch(`https://4.dbt.io/api/bibles/${bibleId}/book?v=4&key=${key}`).then(\n        function (response) {\n            return response.json();\n        }\n    );\n    current_books.data = books['data'];\n    current_books.visible = true\n}\n\nexport async function dbpCurrentChapter(bible, book, chapter) {\n    current_chapter = await fetch(`https://4.dbt.io/api/bibles/filesets/${bible}/${book}/${chapter}?v=4&key=${key}`)\n    .then(function (response) {\n        return response.json();\n    });\n    current_chapter = current_chapter['data'][0].path;\n}\n\nexport async function selectBible(ctx, id) {\n    ctx.query = '';\n    const books = await harkSelect(id);\n    ctx.currentBooks = books;\n\n    const selectedBible = ctx.bibles.find(bible => bible.abbr === ctx.currentBooks.bible_id);\n    ctx.currentBible = selectedBible;\n    const url = new URL(window.location);\n    url.searchParams.set('id', ctx.currentBible.id);\n    await setBookAndChapter(ctx, books.data[0], 1);\n}\n\nasync function setBookAndChapter(ctx, book, chapter) {\n    ctx.currentBook = book;\n    await setCurrentChapter(ctx, book, chapter);\n}\n\nexport async function setCurrentChapter(ctx, book, chapter) {\n\n    ctx.currentBook = book;\n    let safeChapter = chapter;\n\n\n    if (!book?.chapters?.includes(chapter)) {\n        safeChapter = 1;\n    }\n\n    if (ctx.currentType === 'hark') {\n        const padLength = (book.book_number === \"19\") ? 3 : 2;\n\n        ctx.currentChapter = {\n            path: `https://content.dbs.org/bibles/audio-new/${ctx.currentBooks.bible_folder}/${book.book_number}_${book.name}_${safeChapter.toString().padStart(padLength, '0')}.mp3`,\n            title: `${book.name} ${safeChapter}`,\n            number: safeChapter,\n            book_id: book.book_id,\n            timestamps: []\n        };\n        ctx.audio.src = ctx.currentChapter.path\n\n        const url = new URL(window.location);\n        url.searchParams.set('book', book.book_id);\n        url.searchParams.set('c', safeChapter);\n\n        if (Array.isArray(ctx.currentBooks.timestamps) && ctx.currentBooks.timestamps.length > 0) {\n            const timestampRegex = /Verse (\\d+)\t(\\d+:\\d+:\\d+\\.\\d+)/gm;\n            let timestampsText = await fetch(`https://content.dbs.org/bibles/audio-new/${ctx.currentBooks.bible_folder}/timingfiles/${ctx.currentBook.book_id}_${safeChapter.toString().padStart(3, '0')}.txt`).then(function (response) {\n                return response.text();\n            }).catch((error) => {\n                console.error('Error:', error);\n            })\n            let verseTimestamps = [];\n\n            let match;\n            while ((match = timestampRegex.exec(timestampsText)) !== null) {\n                // Extract verse number and timestamp from the regex match\n                const verseNumber = match[1];\n                const timestamp = match[2];\n                verseTimestamps.push(timestamp);\n            }\n\n            //await currentBook = book;\n            ctx.currentChapter.timestamps = verseTimestamps;\n        }\n    }\n}\n","export function elem(tag, props = {}) {\n    const el = document.createElement(tag);\n\n    for (const [key, val] of Object.entries(props)) {\n        if (key === 'style' && typeof val === 'object') {\n            Object.assign(el.style, val);\n        } else {\n            el[key] = val;\n        }\n    }\n\n    return el;\n}\n\nexport function formatTime(timeInSeconds) {\n    const minutes = (timeInSeconds / 60) | 0;\n    const seconds = (timeInSeconds % 60) | 0;\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n}\n\nexport const parseTimestampToSeconds = (timestampStr) => {\n    const [hours, minutes, seconds] = timestampStr.split(':');\n    return (parseInt(hours, 10) * 3600) + (parseInt(minutes, 10) * 60) + parseFloat(seconds);\n};","import { setCurrentChapter } from \"./AudioPlayerProviders.js\";\nimport { elem, parseTimestampToSeconds } from './AudioPlayerHelpers.js'\nimport { createBibleBlockButtons } from \"./AudioPlayerNavigation.js\";\n\n\nexport function updateCurrentBibleBlock(ctx, bible) {\n    ctx.bibleBlock.innerHTML = '';\n    ctx.bibleBlock.className = ctx.class.bibleBlock;\n    const bibleBlockInfoWrap = createBibleBlockInfoWrap(ctx, bible);\n    const chapterBookSelectWrapper = elem('div', { className: ctx.class.selectBookChapterWrap });\n    chapterBookSelectWrapper.append(createBookSelector(ctx), createChapterSelector(ctx));\n    createVerseSelector(ctx, chapterBookSelectWrapper);\n    bibleBlockInfoWrap.append(createBibleBlockButtons(ctx));\n    ctx.bibleBlock.append(bibleBlockInfoWrap,chapterBookSelectWrapper);\n    updateBookList(ctx);\n}\n\nfunction createBibleBlockInfoWrap(ctx, bible) {\n    const bibleBlockInfoWrap = elem('div', { className: ctx.class.bibleBlockInfoWrap });\n    const bibleBlockLanguageGroup = elem('div', { className: ctx.class.bibleBlockLanguageGroup });\n    bibleBlockLanguageGroup.append(\n        elem('div', { className: ctx.class.bibleBlockIso, innerText: bible.iso }),\n        elem('div', { innerText: bible.cn })\n    );\n    bibleBlockInfoWrap.append(bibleBlockLanguageGroup);\n    const bibleBlockTitleGroup = elem('div', { className: ctx.class.bibleBlockTitleGroup });\n    bibleBlockTitleGroup.appendChild(elem('div', { className: ctx.class.bibleBlockTitle, innerText: bible.tt }));\n    if (bible.tv && bible.tv !== bible.tt) {\n        bibleBlockTitleGroup.appendChild(elem('div', { className: ctx.class.bibleBlockVernacular, innerText: bible.tv }));\n    }\n    bibleBlockInfoWrap.appendChild(bibleBlockTitleGroup);\n    return bibleBlockInfoWrap;\n}\n\nexport function updateBookList(ctx) {\n    const bookListGrid = ctx.bookListGrid;\n    bookListGrid.innerHTML = '';\n    if (ctx.resultsBooks && ctx.resultsBooks.length && ctx.query !== '') {\n        ctx.resultsBooks.forEach(result => {\n            bookListGrid.appendChild(createBookButton(ctx, result.item));\n        });\n    } else if (ctx.currentBooks && ctx.query === '') {\n        if (ctx.currentBooks['data']) {\n            ctx.currentBooks['data'].forEach(book => {\n                bookListGrid.appendChild(createBookButton(ctx, book));\n            });\n        }\n    }\n}\n\nexport function createBookButton(ctx, book) {\n    const button = elem('button', {\n        className: `${book.book_id} ${ctx.class.bookListButton} ${((ctx.currentBook.book_id == book.book_id) ? ctx.class.bookListButtonActive : '')}`,\n        ariaLabel: book.name,\n        onclick: () => handleBookChange(ctx, book.book_id)\n    });\n    button.dataset.bookId = book.book_id;\n    const contentContainer = elem('div');\n    contentContainer.append(\n        elem('h2', { className: ctx.class.bookListTitle, textContent: book.name }),\n        elem('h3', { className: ctx.class.bookListId, textContent: book.book_id })\n    );\n    button.appendChild(contentContainer);\n    return button;\n}\n\nexport function handleBookChange(ctx, bookId, chapter = 1) {\n    const selectedBook = ctx.currentBooks.data.find(book => book.book_id === bookId);\n    if (!selectedBook) return;\n\n    setCurrentChapter(selectedBook, chapter);\n    const url = new URL(window.location);\n    url.searchParams.set('bookId', selectedBook.book_id);\n    window.history.replaceState({}, '', url);\n\n    ctx.query = '';\n    ctx.chapterListContainer.style.display = \"block\";\n    ctx.view = \"chapter\";\n    ctx.currentBook = selectedBook;\n\n    chapterList(ctx);\n    updateCurrentBibleBlock(ctx, ctx.currentBible);\n}\n\nfunction createBookSelector(ctx) {\n    const bookSelect = elem('select', { className: ctx.class.selectBook });\n    if (ctx.currentBooks && ctx.currentBooks.data) {\n        ctx.currentBooks.data.forEach(book => {\n            const option = elem('option', {\n                value: book.book_id,\n                innerText: book.name,\n                selected: (book.book_id === ctx.currentBook.book_id)\n            });\n            bookSelect.appendChild(option);\n        });\n    }\n    bookSelect.addEventListener('change', (event) => {\n        handleBookChange(ctx, event.target.value);\n    });\n    ctx.bookSelect = bookSelect;\n    return bookSelect;\n}\n\nfunction createChapterSelector(ctx) {\n    const chapterSelect = elem('select', { className: ctx.class.selectChapter });\n    if (ctx.currentBook && ctx.currentBook.chapters) {\n        ctx.currentBook.chapters.forEach(chapter => {\n            const option = elem('option', {\n                value: chapter,\n                innerText: chapter,\n                selected: (chapter == ctx.currentChapter.number)\n            });\n            chapterSelect.appendChild(option);\n        });\n    }\n    chapterSelect.addEventListener('change', (event) => \n        handleChapterChange(ctx, ctx.currentBook, parseInt(event.target.value))\n    );\n    ctx.chapterSelect = chapterSelect;\n    return chapterSelect;\n}\n\nfunction createVerseSelector(ctx, chapterBookSelectWrapper) {\n    if (!ctx.currentChapter || !ctx.currentChapter.timestamps || ctx.currentChapter.timestamps.length == 0) return; \n    const verseSelect = elem('select', { className: ctx.class.selectVerse });\n    ctx.currentChapter.timestamps.forEach((timestamp, index) => {\n        const verseNumber = index + 1;\n        const option = elem('option', {\n            value: verseNumber,\n            innerText: `${verseNumber}`\n        });\n        verseSelect.appendChild(option);\n    });\n    verseSelect.addEventListener('change', (event) => {\n        const selectedVerse = parseInt(event.target.value, 10);\n        const verseIndex = selectedVerse - 1;\n        if (ctx.currentChapter.timestamps && ctx.currentChapter.timestamps[verseIndex]) {\n            const tsStr = ctx.currentChapter.timestamps[verseIndex];\n            const verseTime = parseTimestampToSeconds(tsStr);\n            ctx.audio.currentTime = verseTime;\n        }\n    });\n    const verseColonSeparator = elem('div', {innerText: ':',className: ctx.class.selectVerseSeparator});\n    chapterBookSelectWrapper.append(verseColonSeparator,verseSelect);\n    ctx.verseSelect = verseSelect;\n    addVerseHighlightOnTimeUpdate(ctx);\n}\n\nfunction addVerseHighlightOnTimeUpdate(ctx) {\n    let lastSelectedVerse = null;\n    ctx.audio.addEventListener('timeupdate', () => {\n        const currentTime = ctx.audio.currentTime;\n        const verseTimes = ctx.currentChapter.timestamps;\n        let currentVerseIndex = -1;\n        for (let i = 0; i < verseTimes.length; i++) {\n            if (currentTime >= parseTimestampToSeconds(verseTimes[i])) {\n                currentVerseIndex = i;\n            } else {\n                break;\n            }\n        }\n        if (currentVerseIndex !== -1 && currentVerseIndex !== lastSelectedVerse) {\n            lastSelectedVerse = currentVerseIndex;\n            ctx.verseSelect.value = currentVerseIndex + 1;\n        }\n    });\n}\n\nexport function chapterList(ctx) {\n    ctx.chapterListContainer.innerHTML = '';\n    ctx.bibleListContainer.style.display = 'none';\n    ctx.bookListContainer.style.display = 'none';\n    ctx.chapterListContainer.style.display = 'block';\n\n    const fragment = document.createDocumentFragment();\n    ctx.currentBook.chapters.forEach(chapterNumber => {\n\n        const chapterButton = elem('button', {\n            className: `${ctx.class.chapterButton} ${(ctx.currentChapter.number == chapterNumber) ? ' ' + ctx.class.chapterButtonActive : ''}`,\n            ariaLabel: `Play Chapter ${chapterNumber}`,\n            textContent: chapterNumber,\n            onclick: () => handleChapterChange(ctx, ctx.currentBook, chapterNumber)\n        });\n\n        fragment.appendChild(chapterButton)}\n    );\n    ctx.chapterListContainer.appendChild(fragment);\n    if(ctx.currentBook?.book_id) {\n        const bookArt = ctx.art[ctx.currentBook.book_id]?.[0];\n        if (!bookArt) {\n            console.warn(`No art found for book ID: ${ctx.currentBook.book_id}`);\n            return;\n        }\n        const artElement = document.createElement('img');\n        artElement.src = `./img/chars/${bookArt.file}`;\n        artElement.className = bookArt.class;\n        ctx.chapterListContainer.appendChild(artElement);\n    }\n}\n\nexport function handleChapterChange(ctx, book, chapterNumber) {\n    setCurrentChapter(ctx, book, chapterNumber);\n    ctx.chapterSelect.value = chapterNumber\n    ctx.audio.play();\n    const playPauseIcon = document.querySelector(`.icon-play`);\n    playPauseIcon.innerHTML = ctx.audio.paused ? ctx.icons.play : ctx.icons.pause;\n    chapterList(ctx)\n}","import { elem } from \"./AudioPlayerHelpers.js\";\n\nexport function createBibleBlockButtons(ctx) {\n    let bibleBlockButtonGroup = elem('div', {\n        id: `${ctx.idPrefix}-bible-block`,\n        className: ctx.class.bibleBlockButtonGroup });\n    const buttons = [\n        {\n            condition: true,\n            innerHTML: ctx.icons.bibles,\n            className: ctx.class.bibleListNavButton,\n            onclick: () => {ctx.view = 'bible';ctx.render()}\n        },\n        {\n            condition: ctx.view === \"book\",\n            innerHTML: ctx.icons.books,\n            className: ctx.class.bookListNavButton,\n            onclick: () => {ctx.view = 'chapter';ctx.render()}\n        },\n        {\n            condition: ctx.view === \"chapter\",\n            innerHTML: ctx.icons.chapters,\n            className: ctx.class.chapterListNavButton,\n            onclick: () => {ctx.view = 'book';ctx.render()}\n        }\n    ];\n    buttons.forEach(({ condition, innerHTML, className, onclick }) => {\n        if (condition) {\n            bibleBlockButtonGroup.appendChild(elem('button', {\n                innerHTML,\n                className,\n                onclick\n            }));\n        }\n    });\n    return bibleBlockButtonGroup;\n}\n","import { elem } from \"./AudioPlayerHelpers.js\";\nimport { createPlaybackRateControls } from './MediaPlaybackRate.js'\nimport { createVolumeAndSleepControls } from './MediaSleepTimer.js'\nimport { handleChapterChange, handleBookChange } from \"./AudioPlayerChapterList.js\";\nimport { createProgressBar } from './MediaProgressBar.js'\n\nexport function createAudioElement(ctx) {\n    const navRow = elem('div', { className: ctx.class.navRow });\n    navRow.append(\n        createBookNavigationButton(ctx, 'prev'),\n        createChapterNavigationButton(ctx, 'prev'),\n        createSkipButton(ctx, 'prev'),\n        createPlayPauseButton(ctx),\n        createSkipButton(ctx, 'next'),\n        createChapterNavigationButton(ctx, 'next'),\n        createBookNavigationButton(ctx, 'next')\n    );\n    const controlsContainer = elem('div', { className: ctx.class.controlsContainer });\n    controlsContainer.append(\n        createProgressBar(ctx),\n        createPlaybackRateControls(ctx),\n        navRow,\n        createVolumeAndSleepControls(ctx)\n    );\n    return controlsContainer;\n}\n\nfunction createPlayPauseButton(ctx) {\n    const playPauseButton = elem('button', {\n        className: ctx.class.playPauseButton,\n        onclick: () => ctx.audio.paused ? ctx.audio.play() : ctx.audio.pause()\n    });\n\n    const playIcon = elem('span', {className: ctx.class.playPauseIcon,innerHTML: ctx.icons.play});\n    playPauseButton.appendChild(playIcon);\n    ctx.audio.addEventListener('play', () => { playIcon.innerHTML = ctx.icons.pause; });\n    ctx.audio.addEventListener('pause', () => { playIcon.innerHTML = ctx.icons.play; });\n    return playPauseButton;\n}\n\n\nfunction createBookNavigationButton(ctx, dir) {\n    return elem('button', {\n        className: ctx.class[`${dir}BookButton`],\n        innerHTML: ctx.icons[`${dir}Book`],\n        onclick: () => {\n            const index = ctx.currentBooks.data.findIndex(book => book.book_id === ctx.currentBook.book_id);\n            const nextIndex = dir === 'prev' ? index - 1 : index + 1;\n            if (ctx.currentBooks.data[nextIndex]) {\n                handleBookChange(ctx, ctx.currentBooks.data[nextIndex].book_id);\n                handleChapterChange(ctx, ctx.currentBooks.data[nextIndex], 1);\n            }\n        }\n    });\n}\n\nfunction createChapterNavigationButton(ctx, dir) {\n    return elem('button', {\n        className: ctx.class[`${dir}ChapterButton`],\n        innerHTML: ctx.icons[`${dir}Chapter`],\n        onclick: () => changeChapter(ctx, dir)\n    });\n}\n\nasync function changeChapter(ctx, dir) {\n    const chapterChange = (dir === 'prev') ? -1 : 1;\n    const targetChapter = ctx.currentChapter.number + chapterChange;\n\n    const inCurrentBook = dir === 'prev' ? (targetChapter > 0) : (targetChapter < ctx.currentBook.chapters.length + 1);\n    if (inCurrentBook) {\n        handleChapterChange(ctx, ctx.currentBook, targetChapter);\n        return\n    }\n\n    const currentIndex = ctx.currentBooks.data.findIndex(book => book.book_id === ctx.currentBook.book_id);\n    const targetIndex = currentIndex + chapterChange;\n    const targetBook = ctx.currentBooks.data[targetIndex];\n    if (targetBook) {\n        handleBookChange(ctx, targetBook.book_id);\n        handleChapterChange(ctx, targetBook, 1);\n    }\n}\n\nfunction createSkipButton(ctx, dir) {\n    return elem('button', {\n        id: `${dir}SkipButton`,\n        className: ctx.class[`${dir}SkipButton`],\n        innerHTML: ctx.icons[`${dir}Skip`],\n        onclick: () => {\n            ctx.audio.currentTime + (dir == \"next\" ? 15 : -15);\n            ctx.audio.currentTime = Math.min(Math.max(ctx.audio.currentTime, 0), ctx.audio.duration);\n        }\n    });\n}","import { elem, formatTime, parseTimestampToSeconds } from \"./AudioPlayerHelpers.js\";\n\nexport function createProgressBar(ctx) {\n    function seekAudio(event, ctx, progressWrapper) {\n        const rect = progressWrapper.getBoundingClientRect();\n        const clickRatio = (event.clientX - rect.left) / rect.width;\n        ctx.audio.currentTime = Math.max(0, Math.min(clickRatio, 1)) * ctx.audio.duration;\n    }\n\n    const progressContainer = elem('div', { className: ctx.class?.progress?.container });\n    const currentTimeDisplay = elem('div', {\n        id: 'currentTime',\n        className: ctx.class?.progress?.currentTimeDisplay,\n        textContent: formatTime(ctx.audio.currentTime)\n    });\n\n    const progressWrapper = elem('div', { id: 'progress-wrapper', className: ctx.class?.progress?.wrapper });\n    const progressBarInner = elem('div', { id: 'progress-bar', className: ctx.class?.progress?.barInner, style: { width: '0%' } });\n    const timestampWrapper = elem('div', {id: 'timestamps-wrapper', className:ctx.class?.progress?.timestamps})\n\n    const circleTip = elem('div', { \n        className: ctx.class?.progress?.circleTip, \n        style: { left: '0%' } \n    });\n\n    progressWrapper.append(progressBarInner, circleTip);\n    const onMouseMove = (event) => {\n        if (ctx.isDragging) {\n            seekAudio(event, ctx, progressWrapper);\n        }\n    };\n\n    const onMouseUp = () => {\n        if (ctx.isDragging) {\n            ctx.isDragging = false;\n            document.body.style.userSelect = '';\n            document.removeEventListener('mousemove', onMouseMove);\n            document.removeEventListener('mouseup', onMouseUp);\n        }\n    };\n\n    progressWrapper.addEventListener('mousedown', () => {\n        ctx.isDragging = true;\n        document.body.style.userSelect = 'none';\n        document.addEventListener('mousemove', onMouseMove);\n        document.addEventListener('mouseup', onMouseUp);\n    });\n\n    progressWrapper.addEventListener('click', (e) => {\n        seekAudio(e, ctx, progressWrapper);\n    });\n\n    const durationDisplay = elem('div', {\n        className: ctx.class?.progress?.durationDisplay,\n        textContent: formatTime(ctx.audio.duration || 0)\n    });\n\n    ctx.audio.addEventListener('timeupdate', () => {\n        const progressPercent = (ctx.audio.currentTime / ctx.audio.duration) * 100;\n        progressBarInner.style.width = `${progressPercent}%`;\n        circleTip.style.left = `calc(${progressPercent}% - 3px)`;\n        currentTimeDisplay.textContent = formatTime(ctx.audio.currentTime);\n    });\n\n    ctx.audio.addEventListener('loadedmetadata', () => {\n        timestampWrapper.innerHTML = '';\n        durationDisplay.textContent = formatTime(ctx.audio.duration);\n\n        if (ctx.currentChapter.timestamps && Array.isArray(ctx.currentChapter.timestamps)) {\n    \n            ctx.currentChapter.timestamps.forEach(tsStr => {\n                const tsSeconds = parseTimestampToSeconds(tsStr);\n                if (tsSeconds <= ctx.audio.duration && tsSeconds >= 0) {\n                    const tickPercent = (tsSeconds / ctx.audio.duration) * 100;\n                    const tick = elem('div', {\n                        className: `progress-tick ${ctx?.class?.progress?.tick}`,\n                        style: { left: `${tickPercent}%` }\n                    });\n    \n                    timestampWrapper.appendChild(tick);\n                }\n            });\n        }\n    });\n\n    progressWrapper.append(timestampWrapper)\n    progressContainer.append(currentTimeDisplay, progressWrapper, durationDisplay);\n\n    return progressContainer;\n}\n","import { elem } from \"./AudioPlayerHelpers.js\";\n\nexport function createPlaybackRateControls(ctx) {\n    const MIN_RATE = ctx.options?.playbackRate?.min ?? 0.5;\n    const MAX_RATE = ctx.options?.playbackRate?.max ?? 2.25;\n    const STEP = ctx.options?.playbackRate?.step ?? 0.25;\n\n    const updateButtonState = (button, isDisabled) => {\n        button.className = `${button.baseClassName} ${isDisabled ? ctx.class.playbackRate?.disabled : ''}`;\n    };\n    const changeRate = (delta) => {\n        ctx.audio.playbackRate = Math.min(MAX_RATE, Math.max(MIN_RATE, ctx.audio.playbackRate + delta));\n        playbackRateElem.textContent = ctx.audio.playbackRate.toFixed(2);\n        \n        updateButtonState(decrementButton, ctx.audio.playbackRate === MIN_RATE);\n        updateButtonState(incrementButton, ctx.audio.playbackRate === MAX_RATE);\n    };\n\n    const playbackRateWrapperElem = elem('div', { className: ctx.class.playbackRate?.wrapper });\n    const decrementButton = elem('button', {\n        baseClassName: ctx.class.playbackRate?.decrease,\n        className: ctx.class.playbackRate?.decrease,\n        textContent: '-',\n        onclick: () => changeRate(-STEP),\n    });\n\n    const playbackRateElem = elem('span', {\n        className: ctx.class.playbackRate?.display,\n        textContent: ctx.audio.playbackRate.toFixed(2),\n    });\n    const incrementButton = elem('button', {\n        baseClassName: ctx.class.playbackRate?.increase,\n        className: ctx.class.playbackRate?.increase,\n        textContent: '+',\n        onclick: () => changeRate(STEP),\n    });\n\n    playbackRateWrapperElem.append(decrementButton, playbackRateElem, incrementButton);\n    return playbackRateWrapperElem;\n}\n\n","import { elem, formatTime } from \"./AudioPlayerHelpers.js\";\n\nexport function createVolumeAndSleepControls(ctx) {\n    const volumeRow = elem('div', { className: ctx.class.volumeRow });\n\n    const volumeInput = elem('input', {\n        type: 'range',\n        min: '0',\n        max: '1',\n        step: '0.01',\n        className: ctx.class.volumeInput,\n        id: 'volume-control',\n        value: ctx.audio.volume,\n        'aria-label': 'Volume Control'\n    });\n    volumeInput.addEventListener('input', () => {\n        ctx.audio.volume = parseFloat(volumeInput.value);\n    });\n\n    const volumeLabel = elem('label', {\n        htmlFor: 'volume-control',\n        className: ctx.class.volumeLabel,\n        innerHTML: ctx.icons.volumeIcon\n    });\n    volumeLabel.appendChild(volumeInput);\n    volumeRow.appendChild(volumeLabel);\n\n    const sleepTimerButton = elem('button', {\n        className: ctx.class.sleepTimerButton,\n        innerHTML: ctx.icons.sleepTimer,\n        'aria-label': 'Sleep Timer'\n    });\n\n    let sleepTimer = null;\n    let elapsedTime = 0;\n    const sleepDuration = 1 * 60 * 1000;\n\n    const sleepTimerDuration = elem('span', {\n        className: ctx.class.sleepTimerDuration,\n        textContent: formatTime(sleepDuration / 1000),\n        'aria-live': 'polite'\n    });\n\n    sleepTimerButton.appendChild(sleepTimerDuration);\n\n    sleepTimerButton.addEventListener('click', () => {\n        if (sleepTimer) {\n            clearInterval(sleepTimer);\n            sleepTimer = null;\n            volumeInput.value = 1;\n            ctx.audio.volume = 1;\n            elapsedTime = 0;\n            updateSleepTimerUI(sleepDuration);\n        } else {\n            elapsedTime = 0;\n            sleepTimer = setInterval(() => {\n                elapsedTime += 1000;\n                const remainingTime = sleepDuration - elapsedTime;\n                const newVolume = remainingTime / sleepDuration;\n\n                volumeInput.value = Math.max(0, newVolume);\n                ctx.audio.volume = parseFloat(volumeInput.value);\n                updateSleepTimerUI(remainingTime);\n\n                if (elapsedTime >= sleepDuration) {\n                    clearInterval(sleepTimer);\n                    sleepTimer = null;\n                    ctx.audio.pause();\n                    updateSleepTimerUI(0);\n                }\n            }, 1000);\n        }\n    });\n\n    function updateSleepTimerUI(remainingTime) {\n        const percentageElapsed = elapsedTime / sleepDuration;\n        const dashArray = 2 * Math.PI * 9;\n        sleepTimerDuration.textContent = formatTime(remainingTime / 1000);\n        const sleepIcon = sleepTimerButton.querySelector('svg circle:nth-child(2)');\n        if (sleepIcon) {\n            sleepIcon.setAttribute('stroke-dashoffset', (1 - percentageElapsed) * dashArray);\n        }\n    }\n\n    volumeRow.appendChild(sleepTimerButton);\n\n    return volumeRow;\n}\n","export function fuzzySearch(query, data, headers) {\n    const queryLower = query.toLowerCase();\n    const baseThreshold = 0.9;\n    const minThreshold = 0.5;\n    const threshold = Math.max(minThreshold, baseThreshold - (queryLower.length > 10 ? 0.15 : queryLower.length * 0.05));\n    \n    return data.reduce((results, item) => {\n        let totalScore = 0;\n        let matches = 0;\n        headers.forEach(header => {\n            if (item[header]) {\n                const itemValue = item[header].toString().toLowerCase();\n                const distance = getLevenshteinDistance(queryLower, itemValue);\n                const score = distance / Math.max(queryLower.length, itemValue.length);\n                if (score <= threshold) {\n                    totalScore += score;\n                    matches++;\n                }\n            }\n        });\n        if (matches > 0) {\n            results.push({item, score: totalScore / matches});\n        }\n        return results;\n    }, []).sort((a, b) => a.score - b.score);\n}\n\nfunction getLevenshteinDistance(a, b) {\n    if (a === b) return 0;\n    const d = Array.from({length: a.length + 1}, (_, i) => i);\n    for (let j = 1; j <= b.length; j++) {\n        let prev = d[0];\n        d[0] = j;\n        for (let i = 1; i <= a.length; i++) {\n            const temp = d[i];\n            d[i] = Math.min(d[i] + 1, d[i-1] + 1, prev + (a[i-1] !== b[j-1]));\n            prev = temp;\n        }\n    }\n    return d[a.length];\n}","import { elem } from './AudioPlayerHelpers.js'\nimport { fuzzySearch } from './AudioPlayerSearch.js';\nimport {selectBible, setCurrentChapter} from  './AudioPlayerProviders.js'\nimport { updateCurrentBibleBlock, updateBookList, handleChapterChange, chapterList } from './AudioPlayerChapterList.js';\n\nexport function initBibleList(ctx) {\n    ctx.bibleListContainer.innerHTML = '';\n    const container = elem('div', { className: ctx.class.searchWrapper });\n    const input = elem('input', {\n        type: 'search',\n        placeholder: 'Filter Audio Bibles',\n        autocomplete: 'off',\n        className: ctx.class.searchInput,\n        oninput: () => {\n            ctx.query = input.value;\n            ctx.results = fuzzySearch(ctx.query, ctx.bibles, ['tt','tv','ln'])\n            updateBibleGrid(ctx);\n        }\n    });\n    input.setAttribute('aria-label', 'Search');\n    container.appendChild(input);\n    ctx.bibleListContainer.appendChild(container);\n    const bibleListGrid = elem('div', { className: ctx.class.bibleListGrid });\n    ctx.bibleListGrid = bibleListGrid;\n    ctx.bibleListContainer.appendChild(bibleListGrid);\n    updateBibleGrid(ctx);\n}\n\nfunction updateBibleGrid(ctx) {\n    const bibleListGrid = ctx.bibleListGrid;\n    bibleListGrid.innerHTML = '';\n    const bibles = ctx.query ? ctx.results.map(result => result.item) : ctx.bibles;\n    const fragment = document.createDocumentFragment();\n    bibles.forEach(bible => fragment.appendChild(createBibleButton(ctx, bible)));\n    bibleListGrid.appendChild(fragment);\n}\n\nfunction createBibleButton(ctx, bible) {\n    const button = elem('button', {\n        className: ctx.class.bibleButton.wrapper,\n        onclick: () => handleBibleButtonClick(ctx, bible)\n    });\n    button.dataset.testId = bible.id;\n    button.setAttribute('aria-label', bible.tv ?? bible.tt);\n\n    const bibleListButtonLanguage = elem('div', { className: ctx.class.bibleButton.languageWrap });\n    bibleListButtonLanguage.appendChild(elem('h2', { className: ctx.class.bibleButton.language, textContent: bible.ln }));\n    bibleListButtonLanguage.appendChild(elem('small', { className: ctx.class.bibleButton.iso, textContent: bible.iso }));\n    \n    const bibleListButtonTitle = elem('div', { className: ctx.class.bibleButton.titleWrap });\n    bibleListButtonTitle.appendChild(elem('h4', { className: ctx.class.bibleButton.title, textContent: bible.tt}));\n\n    if (bible.tt !== bible.tv && bible.tv) {\n        const tv = elem('p', {\n            className: ctx.class.bibleButton.vernacular,\n            textContent: bible.tv\n        });\n        bibleListButtonTitle.appendChild(tv);\n    }\n\n    button.appendChild(bibleListButtonLanguage);\n    button.appendChild(bibleListButtonTitle);\n\n    return button;\n}\n\nexport async function handleBibleButtonClick(ctx, bible) {\n    if (bible.tp === \"hark\") {\n        ctx.view = \"book\";\n        ctx.currentBible = bible;\n        await selectBible(ctx, bible.id);\n        updateCurrentBibleBlock(ctx, bible);\n        ctx.render();\n        const url = new URL(window.location);\n        url.searchParams.set('bibleId', bible.id);\n        window.history.replaceState({}, '', url);\n    } else if (bible.tp === \"dbl\") {\n        // Handle 'dbl' type if necessary\n    }\n}\n\n\nexport function initBookList(ctx) {\n    const searchInput = elem('input', {\n        type: 'search',\n        placeholder: ctx.i18n?.filter_books ?? 'Filter Books',\n        className: ctx.class.searchInput,\n        ariaLabel: 'search',\n        autocomplete: 'off',\n        oninput: () => {\n            ctx.query = searchInput.value;\n            console.log(searchInput.value, ctx.currentBooks.data)\n            ctx.resultsBooks = fuzzySearch(ctx.query, ctx.currentBooks.data, ['name'])\n            updateBookList(ctx);\n        }\n    });\n    const searchInputContainer = elem('div', { className: ctx.class.searchInputContainer });\n    searchInputContainer.appendChild(searchInput);\n    ctx.bookListContainer.appendChild(searchInputContainer);\n    ctx.bookListContainer.appendChild((ctx.bookListGrid = elem('div', { className: ctx.class.bookListGrid })));\n    updateBookList(ctx);\n}\n\n\n","import { mergeClasses, mergeIcons, mergeArt } from \"./AudioPlayerStyles.js\";\nimport { loadProviders } from \"./AudioPlayerProviders.js\";\nimport { elem } from \"./AudioPlayerHelpers.js\";\nimport { createAudioElement } from \"./AudioPlayerMedia.js\";\nimport {\n  initBibleList,\n  handleBibleButtonClick,\n  initBookList,\n} from \"./AudioPlayerBibleList.js\";\nimport { handleBookChange, updateBookList } from \"./AudioPlayerChapterList.js\";\n\nexport default class AudioPlayer {\n  constructor(containerId, options) {\n    this.container = document.getElementById(containerId);\n    this.providers = options.providers ?? [\"hark\"];\n    this.bibles = [];\n    this.currentBible = {};\n    this.currentBooks = [];\n    this.currentBook = {};\n    this.currentChapter = { number: 0 };\n    this.audio = document.createElement(\"audio\");\n    this.currentType = \"hark\";\n    this.isDragging = false;\n    this.class = mergeClasses(options.classes);\n    this.icons = mergeIcons(options.icons);\n    this.art = mergeArt(options.art);\n    this.results = [];\n    this.query = \"\";\n    this.view = \"bible\";\n    this.idPrefix = options?.idPrefix ?? \"audio-player\";\n    this.views = {\n        bible: {player: \"none\", bibleListContainer: \"block\", bookListContainer: \"none\", chapterListContainer: \"none\"},\n        book: {player: \"block\", bibleListContainer: \"none\", bookListContainer: \"block\", chapterListContainer: \"none\"},\n        chapter: {player: \"block\", bibleListContainer: \"none\", bookListContainer: \"none\", chapterListContainer: \"block\"},\n    };\n  }\n\n  static async create(containerId, options) {\n    const player = new AudioPlayer(containerId, options);\n    await loadProviders(player)\n    player.container.innerHTML = \"\";\n    const idp = player.idPrefix;\n    const playerContainer = elem(\"div\", {id: `${idp}-player-container`,className: player.class.playerContainer});\n    player.bibleListContainer = elem(\"div\", {id: `${idp}-bible-list-container`,className: player.class.bibleListContainer});\n    player.bookListContainer = elem(\"div\", {id: `${idp}-book-list-container`,className: player.class.bookListContainer});\n    player.chapterListContainer = elem(\"div\", {id: `${idp}-chapter-list-container`,className: player.class.chapterListContainer});\n    player.bibleBlock = elem(\"div\", {id: `${idp}-bible-block`,className: player.class.bibleBlock});\n    player.player = createMediaPlayer(player);\n    playerContainer.append(player.bibleBlock, player.audio, player.player);\n    initBookList(player);\n    playerContainer.append(player.bookListContainer,player.chapterListContainer,player.bibleListContainer);\n    player.container.appendChild(playerContainer);\n    this.setDefaultView(player);\n    return player;\n  }\n\n  static async setDefaultView(player) {\n    const url = new URL(window.location);\n    if (url.searchParams.get(\"bibleId\")) {\n      await handleBibleButtonClick(player, player.bibles.find((bible) => bible.id == url.searchParams.get(\"bibleId\")));\n      player.view = \"book\";\n    }\n    if (url.searchParams.get(\"bookId\")) {\n      await handleBookChange(player, url.searchParams.get(\"bookId\"));\n      player.view = \"chapter\";\n    }\n    if (player.view === \"bible\") {\n      initBibleList(player);\n    }\n\n    setView(player)\n  }\n\n  render() {\n    if (this.view === \"bible\") {\n      initBibleList(this);\n    } else if (this.view === \"book\") {\n      updateBookList(this);\n    } else if (this.view === \"chapter\") {\n      chapterList(this);\n    }\n    setView(this)\n  }\n\n  setData(newData) {\n    Object.assign(this, newData);\n  }\n}\n\nfunction setView(player) {\n    const currentView = player.views[player.view] || views.bible;\n    player.player.style.display = currentView.player;\n    player.bibleListContainer.style.display = currentView.bibleListContainer;\n    player.bookListContainer.style.display = currentView.bookListContainer;\n    player.chapterListContainer.style.display = currentView.chapterListContainer;\n}\n\nfunction createMediaPlayer(ctx) {\n  const mediaPlayerWrap = elem(\"div\", {\n    id: \"media-player-wrap\",\n    className: ctx.class.mediaPlayerWrap,\n  });\n\n  const audioElement = createAudioElement(ctx);\n  mediaPlayerWrap.appendChild(audioElement);\n\n  return mediaPlayerWrap;\n}\n"],"names":["defaultClasses","playerHeader","playerContainer","bibleListContainer","chapterListContainer","bibleListGrid","bibleBlockInfoWrap","bibleBlock","bibleBlockTitleGroup","bibleBlockVernacular","bibleBlockTitle","bibleBlockLanguageGroup","bibleBlockIso","bibleBlockButtonGroup","container","audio","controlsContainer","navRow","prevBookButton","prevChapterButton","playPauseButton","playPauseIcon","nextChapterButton","nextBookButton","controlRow2","leftControls","playbackRate","wrapper","display","increase","decrease","disabled","rightControls","playSpeedControl","decrementIcon","incrementIcon","decreaseSpeedButton","increaseSpeedButton","prevSkipButton","nextSkipButton","progress","barInner","circleTip","currentTimeDisplay","durationDisplay","tick","mediaPlayerWrap","mediaPlayerHeader","mediaPlayerBody","mediaPlayerNavRow","bibleListNavButton","bookListNavButton","chapterListNavButton","volumeRow","volumeControl","volumeInput","volumeLabel","selectBookChapterWrap","selectBook","selectChapter","selectVerseSeparator","selectVerse","bibleButton","languageWrap","language","iso","titleWrap","title","vernacular","sleepTimerButton","sleepTimerDuration","sleepTimerWrap","searchWrapper","searchInput","searchInputContainer","bookListContainer","bookListGrid","bookListButton","bookListButtonActive","bookListTitle","bookListId","chapterButton","chapterButtonActive","defaultIcons","speedSlow","speedFast","sleepTimer","chapters","bibles","books","prevBook","nextBook","prevChapter","nextChapter","prevSkip","nextSkip","play","pause","volumeIcon","defaultArt","BASE_CONTENT_URL","async","harkList","country_id","provider","baseBibles","fetch","then","response","json","text","output","split","forEach","bible","bible_id","includes","i","length","baseBible","id","push","abbr","ln","tt","tv","ci","cn","tp","filter","dbpList","initial_path","key","last_page","meta","pagination","current_page","results","data","concat","selectBible","ctx","query","filenameRequest","filenames","booksMap","Map","filenamePattern","sort","filename","match","bookNumber","bookName","chapterString","chapterNumber","parseInt","has","set","name","book_number","book_id","get","timingFiles","ok","console","warn","book","values","a","b","bible_folder","timestamps","Array","from","harkSelect","currentBooks","selectedBible","find","currentBible","URL","window","location","searchParams","chapter","currentBook","setCurrentChapter","setBookAndChapter","safeChapter","currentType","padLength","currentChapter","path","toString","padStart","number","src","url","isArray","timestampRegex","timestampsText","catch","error","verseTimestamps","exec","timestamp","elem","tag","props","el","document","createElement","val","Object","entries","assign","style","formatTime","timeInSeconds","seconds","parseTimestampToSeconds","timestampStr","hours","minutes","parseFloat","updateCurrentBibleBlock","innerHTML","className","class","append","innerText","appendChild","createBibleBlockInfoWrap","chapterBookSelectWrapper","bookSelect","option","value","selected","addEventListener","event","handleBookChange","target","createBookSelector","chapterSelect","handleChapterChange","createChapterSelector","verseSelect","index","verseNumber","verseIndex","tsStr","verseTime","currentTime","verseColonSeparator","lastSelectedVerse","verseTimes","currentVerseIndex","addVerseHighlightOnTimeUpdate","createVerseSelector","idPrefix","condition","icons","onclick","view","render","createBibleBlockButtons","updateBookList","resultsBooks","result","createBookButton","item","button","ariaLabel","dataset","bookId","contentContainer","textContent","selectedBook","history","replaceState","chapterList","fragment","createDocumentFragment","bookArt","art","artElement","file","querySelector","paused","createAudioElement","createBookNavigationButton","createChapterNavigationButton","createSkipButton","playIcon","createPlayPauseButton","seekAudio","progressWrapper","rect","getBoundingClientRect","clickRatio","clientX","left","width","Math","max","min","duration","progressContainer","progressBarInner","timestampWrapper","onMouseMove","isDragging","onMouseUp","body","userSelect","removeEventListener","e","progressPercent","tsSeconds","tickPercent","createProgressBar","MIN_RATE","options","MAX_RATE","STEP","step","updateButtonState","isDisabled","baseClassName","changeRate","delta","playbackRateElem","toFixed","decrementButton","incrementButton","playbackRateWrapperElem","createPlaybackRateControls","type","volume","htmlFor","elapsedTime","sleepDuration","updateSleepTimerUI","remainingTime","percentageElapsed","dashArray","PI","sleepIcon","setAttribute","clearInterval","setInterval","newVolume","createVolumeAndSleepControls","dir","findIndex","nextIndex","chapterChange","targetChapter","inCurrentBook","currentIndex","targetIndex","targetBook","changeChapter","fuzzySearch","headers","queryLower","toLowerCase","threshold","reduce","totalScore","matches","header","itemValue","score","d","_","j","prev","temp","getLevenshteinDistance","initBibleList","input","placeholder","autocomplete","oninput","updateBibleGrid","map","handleBibleButtonClick","testId","bibleListButtonLanguage","bibleListButtonTitle","createBibleButton","AudioPlayer","constructor","containerId","this","getElementById","providers","customClasses","mergedClasses","keys","startsWith","substring","mergeClasses","classes","customIcons","mergedIcons","mergeIcons","customArt","mergedArt","mergeArt","views","player","create","providerFunctions","hark","dbp","loadProviders","idp","audioElement","createMediaPlayer","i18n","filter_books","log","initBookList","setDefaultView","setView","setData","newData","currentView"],"mappings":"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"}