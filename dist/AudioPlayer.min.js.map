{"version":3,"file":"AudioPlayer.min.js","sources":["../src/AudioPlayerStyles.mjs","../src/AudioPlayerProviders.mjs","../src/AudioPlayerHelpers.mjs","../src/AudioPlayerChapterList.mjs","../src/AudioPlayerSearch.mjs","../src/AudioPlayerBibleList.mjs","../src/AudioPlayerMedia.mjs","../src/MediaProgressBar.mjs","../src/MediaSleepTimer.mjs","../src/MediaPlaybackRate.mjs","../src/AudioPlayer.js"],"sourcesContent":["const defaultClasses = {\n    playerHeader: '',\n    playerContainer: 'w-full mx-auto max-w-7xl',\n    bibleListContainer: '',\n    chapterListContainer: 'relative w-full max-w-4xl mx-auto',\n    bibleListGrid: 'grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3',\n    bibleBlockInfoWrap: 'flex flex-row justify-between gap-4 max-w-md w-full mx-auto bg-stone-100 border border-stone-200 mt-12 p-3',\n    bibleBlock: 'flex flex-col justify-between text-sm text-center md:text-base lg:text-lg font-semibold text-black',\n    bibleBlockTitleGroup: 'flex-shrink truncate',\n    bibleBlockVernacular: 'truncate text-sm mb-1',\n    bibleBlockTitle: 'truncate text-2xl font-semibold',\n    bibleBlockLanguageGroup: '',\n    bibleBlockIso: 'text-sm',\n    bibleBlockButtonGroup: 'flex flex-col justify-between',\n\n    container: 'audio-player-container mx-auto max-w-7xl w-full',\n    audio: '',\n    controlsContainer: 'controls-container flex flex-col',\n    navRow: 'flex flex-row items-center justify-center gap-4 py-4 bg-stone-100 border border-stone-200 w-full max-w-md mx-auto',\n    prevBookButton: 'prev-book-button flex justify-center items-center',\n    prevChapterButton: 'prev-chapter-button flex justify-center items-center',\n    playPauseButton: 'play-pause-button flex justify-center items-center',\n    playPauseIcon: 'icon-play',\n    nextChapterButton: 'next-chapter-button flex justify-center items-center',\n    nextBookButton: 'next-book-button flex justify-center items-center',\n    controlRow2: 'grid grid-cols-5 mb-1',\n    leftControls: 'flex flex-row justify-center items-center col-span-2 space-x-6',\n\n    playbackRate: {\n        wrapper: 'flex mx-auto w-full max-w-md justify-center px-8 py-2 bg-stone-100 text-xs',\n        display: 'mx-1 text-stone-400 text-sm',\n        increase: 'w-6 h-6 border-2 rounded-2xl text-stone-500',\n        decrease: 'w-6 h-6 border-2 rounded-2xl text-stone-500',\n        disabled: 'opacity-50'\n    },\n\n    rightControls: 'flex flex-row justify-center items-center col-span-2 space-x-6',\n    playSpeedControl: 'flex flex-row justify-center items-center text-xs',\n    decreaseSpeedButton: 'w-6 h-6 border-2 rounded-2xl hover:border-blue-600 dark:hover:border-white text-stone-500 dark:hover:text-white',\n    increaseSpeedButton: 'w-6 h-6 border-2 rounded-2xl hover:border-blue-600 dark:hover:border-white text-stone-500 dark:hover:text-white',\n    skipBackButton: 'skip-backward-button flex justify-center items-center text-stone-400 hover:text-blue-600 dark:text-white dark:hover:text-blue-400',\n    skipForwardButton: 'skip-forward-button flex justify-center items-center text-stone-400 hover:text-blue-600 dark:text-white dark:hover:text-blue-400',\n\n    progress: {\n        container: 'flex mx-auto w-full max-w-md justify-around px-1 pt-4 bg-stone-100 text-xs',\n        wrapper: 'mx-auto min-w-80 mx-3 w-3/4 sm:w-5/6 h-3 rounded-lg relative border bg-gradient-to-br shadow-inner border-stone-300 from-white to-stone-200 dark:from-neutral-50 dark:to-stone-400 border-stone-500',\n        barInner: 'h-3 w-0 bg-blue-600 rounded-md',\n        circleTip: 'absolute top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-5 h-5 bg-blue-600 rounded-full border border-blue-500',\n        currentTimeDisplay: 'text-black',\n        durationDisplay: 'text-black',\n        tick: 'w-[3px] absolute top-0 h-full bg-stone-400'\n    },\n    \n    mediaPlayerWrap: 'w-full flex flex-col justify-center',\n    mediaPlayerHeader: '',\n    mediaPlayerBody: '',\n    mediaPlayerNavRow: 'grid grid-cols-5 px-2 text-stone-700 dark:text-stone-300 divide-x divide-stone-500 dark:divide-stone-600',\n    bibleListNavButton: '',\n    bookListNavButton: '',\n    chapterListNavButton: '',\n\n    volumeRow: 'flex flex-row justify-center items-center max-w-md bg-stone-100 border border-stone-200 mx-auto',\n    volumeControl: 'volume-control w-full',\n    volumeInput: 'w-full',\n    volumeLabel: 'flex flex-row pl-2 mx-4 w-1/2',\n\n    selectBookChapterWrap: 'relative bg-stone-100 flex flex-row gap-2 w-full max-w-md mx-auto',\n    selectBook: 'inline-flex items-center gap-x-1.5 bg-stone-100 hover:bg-stone-200 px-3 py-2 w-full',\n    selectChapter: 'inline-flex items-center text-center bg-stone-100 w-12 hover:bg-stone-200 border-none appearance-none',\n    selectVerseSeparator: 'inline-flex items-center bg-stone-100',\n    selectVerse: \"inline-flex items-center text-center bg-stone-100 w-12 hover:bg-stone-200 border-none appearance-none\",\n\n    bibleButton: {\n        wrapper: 'flex flex-row bg-stone-100 border border-stone-200 rounded min-h-20 hover:bg-stone-200',\n        languageWrap: 'py-1 bg-stone-200 h-full w-24 flex flex-col justify-center items-center',\n        language: 'text-sm font-medium text-stone-900',\n        iso: 'truncate font-mono mt-1 text-sm text-stone-500',\n        titleWrap: 'py-1 h-full w-full flex flex-col justify-center items-center',\n        title: 'line-clamp-2 text-center text-sm font-medium text-stone-900',\n        vernacular: 'line-clamp-1 text-sm text-stone-500',\n    },\n\n    sleepTimerButton: 'sleep-timer-button group block py-1.5 px-1',\n    sleepTimerDuration: 'text-xs pl-1 pt-2 inline-block timer-display',\n    sleepTimerWrap: 'flex flex-row justify-center align-start text-stone-400 hover:text-blue-600',\n    searchWrapper: 'mx-auto flex items-center w-1/3 my-3',\n    searchInput: 'px-4 py-2 w-full max-w-7xl mx-auto bg-white border border-stone-200',\n    \n    searchInputContainer: 'flex w-full max-w-xl mx-auto my-4',\n    bookListContainer: 'w-full',\n    bookListGrid: 'grid grid-cols-3 md:grid-cols-4 gap-2',\n    bookListButton: 'bg-stone-100 border rounded md:rounded-lg',\n    bookListButtonActive: 'bg-stone-100 border border-stone-300',\n    bookListTitle: 'font-medium text-sm lg:text-base',\n    bookListId: 'w-full flex justify-end opacity-60 text-sm mr-8',\n    chapterButton: 'bg-stone-100/90 w-12 h-12 m-2 border border-stone-700 rounded text-lg hover:bg-stone-300',\n    chapterButtonActive: 'bg-stone-500 text-stone-100'\n};\n\n/**\n * Merges custom CSS class definitions with a set of default classes. If a key in the custom classes starts\n * with an underscore, it will overwrite the corresponding default class after removing the underscore.\n * Keys without an underscore will simply merge by replacing the existing default with the custom class.\n *\n * @param {Object} customClasses - An object containing custom class definitions. Keys starting with\n *                                 an underscore indicate classes that should overwrite default classes.\n * @returns {Object} An object containing the merged classes.\n */\nexport const mergeClasses = (customClasses = {}) => {\n    const mergedClasses = { ...defaultClasses };\n    for (const key of Object.keys(customClasses)) {\n        if (key.startsWith('_')) {\n            mergedClasses[key.substring(1)] = customClasses[key];\n        } else {\n            mergedClasses[key] = customClasses[key];\n        }\n    }\n\n    return mergedClasses;\n};\n\nconst defaultIcons = {\n    sleepTimer: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"w-7 h-7\"><path d=\"M22.97 16.84h-3.25l3.56-3.26c.07-.05.1-.08.1-.14a.43.4 0 0 0-.37-.56h-4.38a.45.41 0 0 0 0 .82h3.29l-3.6 3.25a.43.4 0 0 0-.09.43.43.4 0 0 0 .4.25h4.34a.43.4 0 0 0 0-.79zm-6.44 1.98h-2.45l2.79-2.49a.43.4 0 0 0 .06-.45.43.4 0 0 0-.4-.26h-3.48a.45.41 0 0 0 0 .82h2.48l-2.79 2.5-.06.14a.31.28 0 0 0 0 .28.43.4 0 0 0 .37.28h3.5a.45.41 0 0 0 0-.82zm2.75 3.9h-1.42l1.73-1.55.1-.14v-.28a.43.4 0 0 0-.44-.29h-2.48a.43.4 0 0 0 0 .8h1.43l-1.74 1.55a.43.4 0 0 0-.09.46.43.4 0 0 0 .4.22h2.48a.43.4 0 0 0 0-.79z\" style=\"stroke-width:.296239\"/></svg>`,\n    chapters: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5\" /></svg>`,\n    bibles: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\" /></svg>`,\n    books: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z\" /></svg>`,\n    PrevBook: `<svg xmlns=\"http://www.w3.org/2000/svg\" stroke=\"currentColor\" class=\"w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300\" viewBox=\"0 0 23 13\"><g fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"round\" stroke-width=\"1.5\"><path stroke-linejoin=\"round\" d=\"M22 2.7c0-.9-1-1.4-1.7-1l-7 4a1.1 1.1 0 0 0 0 2l7 4a1.1 1.1 0 0 0 1.7-.9V2.7h0Zm-9.7 0c0-.9-1-1.4-1.7-1l-7.1 4a1.1 1.1 0 0 0 0 2l7 4a1.1 1.1 0 0 0 1.8-.9V2.7h0Z\"/><path d=\"M1.5 1v11\"/></g></svg>`,\n    PrevChapter: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" class=\"w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 16.8c0 .9-1 1.4-1.7 1l-7-4a1.1 1.1 0 0 1 0-2l7-4a1.1 1.1 0 0 1 1.7.9v8.1zm-9.8 0c0 .9-.9 1.4-1.6 1l-7.1-4a1.1 1.1 0 0 1 0-2l7-4a1.1 1.1 0 0 1 1.8.9v8.1z\"/></svg>`,\n    nextChapter: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" class=\"w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3 8.7c0-.9 1-1.4 1.7-1l7 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.7-.9V8.7zm9.8 0c0-.9.9-1.4 1.6-1l7.1 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.8-.9V8.7z\"/></svg>`,\n    nextBook: `<svg xmlns=\"http://www.w3.org/2000/svg\" stroke=\"currentColor\" class=\"w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300\" viewBox=\"0 0 23 13\"><g fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"round\" stroke-width=\"1.5\"><path stroke-linejoin=\"round\" d=\"M1 2.7c0-.9 1-1.4 1.7-1l7 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.7-.9V2.7h0Zm9.7 0c0-.9 1-1.4 1.7-1l7.1 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.8-.9V2.7h0Z\"/><path d=\"M21.5 1v11\"/></g></svg>`,\n    play: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" class=\"w-10 h-10 hover:text-blue-400\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.3 5.7c0-.9.9-1.4 1.6-1L18.5 11a1.1 1.1 0 0 1 0 2L6.9 19.3a1.1 1.1 0 0 1-1.6-1V5.7z\"/></svg>`,\n    pause: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" class=\"w-10 h-10 hover:text-blue-600 dark:hover:text-blue-300\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.8 5.3v13.4M8.2 5.3v13.4\"/></svg>`,\n    volumeIcon: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"size-5\" viewBox=\"0 0 20 20\"><path d=\"M11 4a1 1 0 0 0-2-1L5 7H3a1 1 0 0 0-1 0 7 7 0 0 0 0 3v3h3l4 4a1 1 0 0 0 2-1V4Zm5 1a1 1 0 0 0-1 1 6 6 0 0 1 0 8 1 1 0 0 0 1 1 7 7 0 0 0 0-10Z\"/><path d=\"M14 7a1 1 0 0 0-1 1 3 3 0 0 1 0 4 1 1 0 0 0 1 1 4 4 0 0 0 0-6Z\"/></svg>`,\n    skipBackward: `<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-7 h-7\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M16 1a2 2 0 0 0-1.4.6l-3 3a2 2 0 0 0 0 2.8l3 3a2 2 0 1 0 2.8-2.8L15.8 6l1.6-1.6A2 2 0 0 0 16 1zm8 0a2 2 0 0 0-1.4.6l-3 3a2 2 0 0 0 0 2.8l3 3a2 2 0 0 0 3.2-2.3A16 16 0 0 1 24 40 16 16 0 0 1 8 24a2 2 0 1 0-4 0A20 20 0 1 0 25.7 4 2 2 0 0 0 24 1zm.8 16c-.7 0-1.3.5-1.4 1.2l-.9 4.5a1.5 1.5 0 0 0 1.5 1.8h3.3c1 0 1.7.8 1.7 1.8 0 1.4-1 1.7-2 1.7-1.6 0-2.5-.6-2.6-.7a1.5 1.5 0 0 0-1.8 2.4c.1.1 1.7 1.3 4.4 1.3 3 0 5-2 5-4.8 0-2.6-2.1-4.7-4.8-4.7h-1.4l.3-1.5H30a1.5 1.5 0 1 0 0-3h-5.2zm-6.4 0H18l-3 1a1.5 1.5 0 0 0 1 3l1-.4v8.9a1.5 1.5 0 1 0 3 0v-11a1.5 1.5 0 0 0-1.6-1.5z\" style=\"stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-dashoffset:0;stroke-linejoin:miter;stroke-miterlimit:4;fill-rule:nonzero;opacity:1\" transform=\"matrix(.5 0 0 .5 1 1.7)\"/></svg>`,\n    skipForward: `<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-7 h-7\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M24 .5A1.5 1.5 0 0 0 23 3l1 1a20 20 0 1 0 21 19.4 1.5 1.5 0 1 0-3 0A17 17 0 1 1 23.8 7.2l-.9.8a1.5 1.5 0 1 0 2.2 2.2l3.5-3.5c.5-.6.5-1.6 0-2.2L25 1c-.3-.3-.7-.4-1.1-.4zm7 0A1.5 1.5 0 0 0 30 3l2.4 2.4-2.5 2.4a1.5 1.5 0 1 0 2.2 2.2l3.5-3.5c.5-.6.5-1.6 0-2.2L32 1c-.3-.3-.7-.4-1.1-.4zM19.6 17h-.3l-3 1a1.3 1.3 0 0 0 .8 2.4l1.4-.4v9.8a1.3 1.3 0 1 0 2.5 0V18.1a1.2 1.2 0 0 0-1.4-1.2zm6.1 0c-.6 0-1.1.4-1.2 1l-.8 4.8a1.3 1.3 0 0 0 1.2 1.5h3.5a2 2 0 0 1 2 2c0 .8-.1 1.2-.5 1.6a3 3 0 0 1-1.8.5c-1.7 0-3-.8-3-.8a1.3 1.3 0 1 0-1.5 2c.5.3 2 1.3 4.5 1.3a5 5 0 0 0 3.5-1.2 4.6 4.6 0 0 0-3.2-8h-2l.4-2.2h4.5a1.3 1.3 0 1 0 0-2.5h-5.6z\" style=\"stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-dashoffset:0;stroke-linejoin:miter;stroke-miterlimit:4;fill-rule:nonzero\" transform=\"matrix(.5 0 0 .5 .5 1.8)\"/></svg>`\n}\n\nexport const mergeIcons = (customIcons = {}) => {\n    const mergedIcons = { ...defaultIcons };\n    for (const key of Object.keys(customIcons)) {\n        mergedIcons[key] = customIcons[key];\n    }\n    return mergedIcons;\n};\n\nconst defaultArt = {}\nexport const mergeArt = (customArt = {}) => {\n    const mergedArt = { ...defaultArt };\n    for (const key of Object.keys(customArt)) {\n        mergedArt[key] = customArt[key];\n    }\n    return mergedArt;\n};","const BASE_API_URL = 'https://arc.dbs.org';\nconst BASE_CONTENT_URL = 'https://content.dbs.org';\nconst BASE_DBP_URL = 'https://4.dbt.io/api/bibles';\n\nexport async function harkList(country_id = 'all', provider = 'all') {\n    const baseBibles = await fetch(`${BASE_API_URL}/api/bibles`).then(response => response.json());\n\n    let bibles = await fetch(`${BASE_CONTENT_URL}/bibles/audio-new/index.txt`).then(response => response.text());\n\n    let output = [];\n\n    bibles = bibles.split('\\n');\n    let unmatchedBibles = [];\n    bibles.forEach(bible => {\n        let bible_id = bible.split('_')[0];\n        if (bible_id.includes('-')) {\n            bible_id = bible.split('-')[0];\n        }\n        let found = false;\n\n        for (let i = 0; i < baseBibles.length; i++) {\n            const baseBible = baseBibles[i];\n            if (bible_id === baseBible.id) {\n                output.push({\n                    id: bible,\n                    abbr: baseBible.id,\n                    iso: baseBible.iso,\n                    ln: baseBible.ln,\n                    tt: baseBible.tt,\n                    tv: baseBible.tv,\n                    ci: baseBible.ci,\n                    cn: baseBible.cn,\n                    tp: \"hark\"\n                });\n                found = true;\n                break; // Exit loop once match is found\n            }\n        }\n\n        if (!found) {\n            unmatchedBibles.push(bible_id); // Add unmatched bible_id to array\n        }\n    });\n\n    if (unmatchedBibles.length > 0) {\n        //console.log(\"Unmatched bible_ids:\", unmatchedBibles);\n    } else {\n        //console.log(\"All bible_ids matched in output.\");\n    }\n\n    if (country_id !== 'all') {\n        output = output.filter(bible => bible.ci === country_id);\n    }\n\n    if (provider !== 'all') {\n        output = output.filter(bible => bible.id.includes(provider));\n    }\n\n    return output;\n}\n\nexport async function harkSelect(id) {\n    const books = {\n        \"01\": \"GEN\", \"02\": \"EXO\", \"03\": \"LEV\", \"04\": \"NUM\", \"05\": \"DEU\", \"06\": \"JOS\",\n        \"07\": \"JDG\", \"08\": \"RUT\", \"09\": \"1SA\", \"10\": \"2SA\", \"11\": \"1KI\", \"12\": \"2KI\",\n        \"13\": \"1CH\", \"14\": \"2CH\", \"15\": \"EZR\", \"16\": \"NEH\", \"17\": \"EST\", \"18\": \"JOB\",\n        \"19\": \"PSA\", \"20\": \"PRO\", \"21\": \"ECC\", \"22\": \"SNG\", \"23\": \"ISA\", \"24\": \"JER\",\n        \"25\": \"LAM\", \"26\": \"EZK\", \"27\": \"DAN\", \"28\": \"HOS\", \"29\": \"JOL\", \"30\": \"AMO\",\n        \"31\": \"OBA\", \"32\": \"JON\", \"33\": \"MIC\", \"34\": \"NAM\", \"35\": \"HAB\", \"36\": \"ZEP\",\n        \"37\": \"HAG\", \"38\": \"ZEC\", \"39\": \"MAL\", \"40\": \"MAT\", \"41\": \"MRK\", \"42\": \"LUK\",\n        \"43\": \"JHN\", \"44\": \"ACT\", \"45\": \"ROM\", \"46\": \"1CO\", \"47\": \"2CO\", \"48\": \"GAL\",\n        \"49\": \"EPH\", \"50\": \"PHP\", \"51\": \"COL\", \"52\": \"1TH\", \"53\": \"2TH\", \"54\": \"1TI\",\n        \"55\": \"2TI\", \"56\": \"TIT\", \"57\": \"PHM\", \"58\": \"HEB\", \"59\": \"JAS\", \"60\": \"1PE\",\n        \"61\": \"2PE\", \"62\": \"1JN\", \"63\": \"2JN\", \"64\": \"3JN\", \"65\": \"JUD\", \"66\": \"REV\"\n    };\n\n    const filenameRequest = await fetch(`${BASE_CONTENT_URL}/bibles/audio-new/${id}/index.txt`);\n    const filenames = await filenameRequest.text();\n    const booksMap = new Map();\n    const filenamePattern = /^\\.\\/\\w+\\/(\\d+)_(\\w+)_(\\d+)\\.mp3$/;\n\n    filenames.split('\\n').sort().forEach((filename) => {\n        const match = filename.match(filenamePattern);\n        if (match) {\n            const [, bookNumber, bookName, chapterString] = match;\n            const chapterNumber = parseInt(chapterString, 10);\n            const key = books[bookNumber];\n            if (!booksMap.has(key)) {\n                booksMap.set(key, {\n                    name: bookName,\n                    book_number: bookNumber,\n                    book_id: key,\n                    chapters: []\n                });\n            }\n            booksMap.get(key).chapters.push(chapterNumber);\n        }\n    });\n\n    let timingFiles = [];\n    try {\n        const response = await fetch(`${BASE_CONTENT_URL}/bibles/audio-new/${id}/timingfiles/_index.txt`);\n        if (response.ok) {\n            timingFiles = (await response.text()).split(\"\\n\");\n        } else {\n            console.warn('Timing files not found or inaccessible.');\n        }\n    } catch (error) {\n        console.warn('Failed to fetch timing files:', error.message);\n    }\n\n    for (const book of booksMap.values()) {\n        book.chapters.sort((a, b) => a - b);\n    }\n\n    return {\n        bible_id: id.split('_')[0],\n        bible_folder: id,\n        timestamps: timingFiles,\n        data: Array.from(booksMap.values())\n    };\n}\n\n\n\nexport async function dbpList(country_id) {\n\n    let initial_path = `https://4.dbt.io/api/bibles?v=4&key=${key}&media=audio`;\n    if (country_id) {\n        initial_path += '&country=' + country_id;\n    }\n    bibles = await fetch(initial_path).then(function (response) {\n        return response.json();\n    });\n    let last_page = bibles.meta.pagination.last_page;\n    let current_page = 1;\n    while (current_page >= last_page) {\n        current_page++;\n        results = await fetch(initial_path + 'page=' + current_page).then(function (response) {\n            return response.json();\n        });\n        bibles.data.concat(results.data);\n    }\n\n    return bibles;\n}\n\nexport async function dbpAudioFileSet(bibleId, filesets) {\n    for (const fileset of filesets) {\n        if (fileset.codec === 'mp3') {\n            current_fileset = fileset.id;\n            break;\n        }\n    }\n\n    let books = await fetch(`https://4.dbt.io/api/bibles/${bibleId}/book?v=4&key=${key}`).then(\n        function (response) {\n            return response.json();\n        }\n    );\n    current_books.data = books['data'];\n    current_books.visible = true\n}\n\nexport async function dbpCurrentChapter(bible, book, chapter) {\n    current_chapter = await fetch(`https://4.dbt.io/api/bibles/filesets/${bible}/${book}/${chapter}?v=4&key=${key}`)\n    .then(function (response) {\n        return response.json();\n    });\n    current_chapter = current_chapter['data'][0].path;\n}\n\nexport async function selectBible(ctx, id) {\n    ctx.query = '';\n    const books = await harkSelect(id);\n    ctx.currentBooks = books;\n\n    const selectedBible = ctx.bibles.find(bible => bible.abbr === ctx.currentBooks.bible_id);\n    ctx.currentBible = selectedBible;\n    const url = new URL(window.location);\n    url.searchParams.set('id', ctx.currentBible.id);\n    await setBookAndChapter(ctx, books.data[0], 1);\n}\n\nasync function setBookAndChapter(ctx, book, chapter) {\n    ctx.currentBook = book;\n    await setCurrentChapter(ctx, book, chapter);\n}\n\nexport async function setCurrentChapter(ctx, book, chapter) {\n\n    ctx.currentBook = book;\n    let safeChapter = chapter;\n\n\n    if (!book?.chapters?.includes(chapter)) {\n        safeChapter = 1;\n    }\n\n    if (ctx.currentType === 'hark') {\n        const padLength = (book.book_number === \"19\") ? 3 : 2;\n\n        ctx.currentChapter = {\n            path: `https://content.dbs.org/bibles/audio-new/${ctx.currentBooks.bible_folder}/${book.book_number}_${book.name}_${safeChapter.toString().padStart(padLength, '0')}.mp3`,\n            title: `${book.name} ${safeChapter}`,\n            number: safeChapter,\n            book_id: book.book_id,\n            timestamps: []\n        };\n        ctx.audio.src = ctx.currentChapter.path\n\n        const url = new URL(window.location);\n        url.searchParams.set('book', book.book_id);\n        url.searchParams.set('c', safeChapter);\n\n        if (ctx.currentBooks.timestamps) {\n            const timestampRegex = /Verse (\\d+)\t(\\d+:\\d+:\\d+\\.\\d+)/gm;\n            let timestampsText = await fetch(`https://content.dbs.org/bibles/audio-new/${ctx.currentBooks.bible_folder}/timingfiles/${ctx.currentBook.book_id}_${safeChapter.toString().padStart(3, '0')}.txt`).then(function (response) {\n                return response.text();\n            }).catch((error) => {\n                console.error('Error:', error);\n            })\n            let verseTimestamps = [];\n\n            let match;\n            while ((match = timestampRegex.exec(timestampsText)) !== null) {\n                // Extract verse number and timestamp from the regex match\n                const verseNumber = match[1];\n                const timestamp = match[2];\n                verseTimestamps.push(timestamp);\n            }\n\n            //await currentBook = book;\n            ctx.currentChapter.timestamps = verseTimestamps;\n        }\n    }\n}\n","export function elem(tag, props = {}) {\n    const el = document.createElement(tag);\n\n    for (const [key, val] of Object.entries(props)) {\n        if (key === 'style' && typeof val === 'object') {\n            // Assign styles individually\n            Object.assign(el.style, val);\n        } else {\n            // Assign other props directly\n            el[key] = val;\n        }\n    }\n\n    return el;\n}\n\nexport function formatTime(timeInSeconds) {\n    const minutes = (timeInSeconds / 60) | 0;\n    const seconds = (timeInSeconds % 60) | 0;\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n}\n\nexport const parseTimestampToSeconds = (timestampStr) => {\n    const [hours, minutes, seconds] = timestampStr.split(':');\n    return (parseInt(hours, 10) * 3600) + (parseInt(minutes, 10) * 60) + parseFloat(seconds);\n};","import { elem } from \"./AudioPlayerHelpers.mjs\";\nimport { setCurrentChapter } from \"./AudioPlayerProviders.mjs\";\n\nexport function chapterList(ctx) {\n    ctx.chapterListContainer.innerHTML = '';\n    ctx.bibleListContainer.style.display = 'none';\n    ctx.bookListContainer.style.display = 'none';\n    ctx.chapterListContainer.style.display = 'block';\n\n    const fragment = document.createDocumentFragment();\n    ctx.currentBook.chapters.forEach(chapterNumber => {\n\n        const chapterButton = elem('button', {\n            className: `${ctx.class.chapterButton} ${(ctx.currentChapter.number == chapterNumber) ? ' ' + ctx.class.chapterButtonActive : ''}`,\n            ariaLabel: `Play Chapter ${chapterNumber}`,\n            textContent: chapterNumber,\n            onclick: () => handleChapterChange(ctx, ctx.currentBook, chapterNumber)\n        });\n\n        fragment.appendChild(chapterButton)}\n    );\n    ctx.chapterListContainer.appendChild(fragment);\n    if(ctx.currentBook?.book_id) {\n        const bookArt = ctx.art[ctx.currentBook.book_id]?.[0];\n        if (!bookArt) {\n            console.warn(`No art found for book ID: ${ctx.currentBook.book_id}`);\n            return;\n        }\n        const artElement = document.createElement('img');\n        artElement.src = `./img/chars/${bookArt.file}`;\n        artElement.className = bookArt.class;\n        ctx.chapterListContainer.appendChild(artElement);\n    }\n}\n\nexport function handleChapterChange(ctx, book, chapterNumber) {\n    setCurrentChapter(ctx, book, chapterNumber);\n    ctx.chapterSelect.value = chapterNumber\n    ctx.audio.play();\n    const playPauseIcon = document.querySelector(`.icon-play`);\n    playPauseIcon.innerHTML = ctx.audio.paused ? ctx.icons.play : ctx.icons.pause;\n    chapterList(ctx)\n}","export function fuzzySearch(query, data, headers) {\n    const queryLower = query.toLowerCase();\n    const baseThreshold = 0.9;\n    const minThreshold = 0.5;\n    const threshold = Math.max(minThreshold, baseThreshold - (queryLower.length > 10 ? 0.15 : queryLower.length * 0.05));\n    \n    return data.reduce((results, item) => {\n        let totalScore = 0;\n        let matches = 0;\n        headers.forEach(header => {\n            if (item[header]) {\n                const itemValue = item[header].toString().toLowerCase();\n                const distance = getLevenshteinDistance(queryLower, itemValue);\n                const score = distance / Math.max(queryLower.length, itemValue.length);\n                if (score <= threshold) {\n                    totalScore += score;\n                    matches++;\n                }\n            }\n        });\n        if (matches > 0) {\n            results.push({item, score: totalScore / matches});\n        }\n        return results;\n    }, []).sort((a, b) => a.score - b.score);\n}\n\nfunction getLevenshteinDistance(a, b) {\n    if (a === b) return 0;\n    const d = Array.from({length: a.length + 1}, (_, i) => i);\n    for (let j = 1; j <= b.length; j++) {\n        let prev = d[0];\n        d[0] = j;\n        for (let i = 1; i <= a.length; i++) {\n            const temp = d[i];\n            d[i] = Math.min(d[i] + 1, d[i-1] + 1, prev + (a[i-1] !== b[j-1]));\n            prev = temp;\n        }\n    }\n    return d[a.length];\n}","import { elem, parseTimestampToSeconds } from './AudioPlayerHelpers.mjs'\nimport { fuzzySearch } from './AudioPlayerSearch.mjs';\nimport {selectBible, setCurrentChapter} from  './AudioPlayerProviders.mjs'\n//import { updateBookList } from './AudioPlayerBookList.mjs';\nimport { handleChapterChange, chapterList } from './AudioPlayerChapterList.mjs';\n\nexport function initBibleList(ctx) {\n    ctx.bibleListContainer.innerHTML = '';\n    const container = elem('div', { className: ctx.class.searchWrapper });\n    const input = elem('input', {\n        type: 'search',\n        placeholder: 'Filter Audio Bibles',\n        autocomplete: 'off',\n        className: ctx.class.searchInput,\n        oninput: () => {\n            ctx.query = input.value;\n            ctx.results = fuzzySearch(ctx.query, ctx.bibles, ['tt','tv','ln'])\n            updateBibleGrid(ctx);\n        }\n    });\n    input.setAttribute('aria-label', 'Search');\n    container.appendChild(input);\n    ctx.bibleListContainer.appendChild(container);\n    const bibleListGrid = elem('div', { className: ctx.class.bibleListGrid });\n    ctx.bibleListGrid = bibleListGrid;\n    ctx.bibleListContainer.appendChild(bibleListGrid);\n    updateBibleGrid(ctx);\n}\n\nfunction updateBibleGrid(ctx) {\n    const bibleListGrid = ctx.bibleListGrid;\n    bibleListGrid.innerHTML = '';\n    const bibles = ctx.query ? ctx.results.map(result => result.item) : ctx.bibles;\n    const fragment = document.createDocumentFragment();\n    bibles.forEach(bible => fragment.appendChild(createBibleButton(ctx, bible)));\n    bibleListGrid.appendChild(fragment);\n}\n\nfunction createBibleButton(ctx, bible) {\n    const button = elem('button', {\n        className: ctx.class.bibleButton.wrapper,\n        onclick: () => handleBibleButtonClick(ctx, bible)\n    });\n    button.dataset.testId = bible.id;\n    button.setAttribute('aria-label', bible.tv ?? bible.tt);\n\n    const bibleListButtonLanguage = elem('div', { className: ctx.class.bibleButton.languageWrap });\n    bibleListButtonLanguage.appendChild(elem('h2', { className: ctx.class.bibleButton.language, textContent: bible.ln }));\n    bibleListButtonLanguage.appendChild(elem('small', { className: ctx.class.bibleButton.iso, textContent: bible.iso }));\n    \n    const bibleListButtonTitle = elem('div', { className: ctx.class.bibleButton.titleWrap });\n    bibleListButtonTitle.appendChild(elem('h4', { className: ctx.class.bibleButton.title, textContent: bible.tt}));\n\n    if (bible.tt !== bible.tv && bible.tv) {\n        const tv = elem('p', {\n            className: ctx.class.bibleButton.vernacular,\n            textContent: bible.tv\n        });\n        bibleListButtonTitle.appendChild(tv);\n    }\n\n    button.appendChild(bibleListButtonLanguage);\n    button.appendChild(bibleListButtonTitle);\n\n    return button;\n}\n\nexport async function handleBibleButtonClick(ctx, bible) {\n    if (bible.tp === \"hark\") {\n        ctx.view = \"book\";\n        ctx.currentBible = bible;\n        await selectBible(ctx, bible.id);\n        updateCurrentBibleBlock(ctx, bible);\n        ctx.render();\n        const url = new URL(window.location);\n        url.searchParams.set('bibleId', bible.id);\n        window.history.replaceState({}, '', url);\n    } else if (bible.tp === \"dbl\") {\n        // Handle 'dbl' type if necessary\n    }\n}\n\nexport function updateCurrentBibleBlock(ctx, bible) {\n    ctx.bibleBlock.innerHTML = '';\n    ctx.bibleBlock.className = ctx.class.bibleBlock;\n\n    const bibleBlockInfoWrap = elem('div', {className: ctx.class.bibleBlockInfoWrap})\n    const bibleBlockLanguageGroup = elem('div', {className: ctx.class.bibleBlockLanguageGroup})\n    bibleBlockLanguageGroup.appendChild(elem('div', { className: ctx.class.bibleBlockIso, innerText: bible.iso }));\n    bibleBlockLanguageGroup.appendChild(elem('div', { innerText: bible.cn }));\n    bibleBlockInfoWrap.append(bibleBlockLanguageGroup)\n\n    const bibleBlockTitleGroup = elem('div', {className: ctx.class.bibleBlockTitleGroup})\n    bibleBlockTitleGroup.appendChild(elem('div', {className: ctx.class.bibleBlockTitle,innerText: bible.tt}));\n    if (bible.tv && bible.tv !== bible.tt) {\n        bibleBlockTitleGroup.appendChild(elem('div', { className: ctx.class.bibleBlockVernacular, innerText: bible.tv }));\n    }\n    bibleBlockInfoWrap.appendChild(bibleBlockTitleGroup)\n\n    const chapterBookSelectWrapper = elem('div', {className: ctx.class.selectBookChapterWrap})\n    const bookSelect = elem('select', { className: ctx.class.selectBook });\n    if (ctx.currentBooks && ctx.currentBooks.data) {\n        ctx.currentBooks.data.forEach(book => {\n            const option = elem('option', { \n                value: book.book_id, \n                innerText: book.name,\n                selected: (book.book_id === ctx.currentBook.book_id)\n            });\n            bookSelect.appendChild(option);\n        });\n    }\n    bookSelect.addEventListener('change', (event) => {\n        handleBookChange(ctx,  event.target.value)\n    });\n    const chapterSelect = elem('select', { className: ctx.class.selectChapter });\n    if (ctx.currentBook && ctx.currentBook.chapters) {\n        ctx.currentBook.chapters.forEach(chapter => {\n            const option = elem('option', {\n                value: chapter,\n                innerText: chapter,\n                selected: (chapter == ctx.currentChapter.number)\n            });\n            chapterSelect.appendChild(option);\n        });\n    }\n    chapterSelect.addEventListener('change', (event) => handleChapterChange(ctx, ctx.currentBook, parseInt(event.target.value)))\n    chapterBookSelectWrapper.appendChild(bookSelect);\n    chapterBookSelectWrapper.appendChild(chapterSelect);\n\nif (ctx.currentChapter && ctx.currentChapter.timestamps && Array.isArray(ctx.currentChapter.timestamps)) {\n    const verseSelect = elem('select', { className: ctx.class.selectVerse });\n\n    // Create an option for each verse timestamp\n    ctx.currentChapter.timestamps.forEach((timestamp, index) => {\n        const verseNumber = index + 1; // Verses are typically 1-based\n        const option = elem('option', {\n            value: verseNumber,\n            innerText: `${verseNumber}`\n        });\n        verseSelect.appendChild(option);\n    });\n\n    // Add a listener to handle verse changes (you'll need to define handleVerseChange)\n    verseSelect.addEventListener('change', (event) => {\n        const selectedVerse = parseInt(event.target.value);\n        const verseIndex = selectedVerse - 1;\n        if (ctx.currentChapter.timestamps && ctx.currentChapter.timestamps[verseIndex]) {\n            const tsStr = ctx.currentChapter.timestamps[verseIndex];\n            const verseTime = parseTimestampToSeconds(tsStr);\n            ctx.audio.currentTime = verseTime;\n            // ctx.audio.play();\n        }\n    });\n\n    const verseColonSeparator = elem('div',{innerText:':',className:ctx.class.selectVerseSeparator})\n    chapterBookSelectWrapper.appendChild(verseColonSeparator)\n    chapterBookSelectWrapper.appendChild(verseSelect);\n    ctx.verseSelect = verseSelect;\n}\n\nif (ctx.verseSelect) {\n    let lastSelectedVerse = null;  // Keep track of which verse is currently selected\n    ctx.audio.addEventListener('timeupdate', () => {\n        const currentTime = ctx.audio.currentTime;\n        const verseTimes = ctx.currentChapter.timestamps;\n\n        // Find the current verse index:\n        // The current verse is the greatest index where verseTimes[index] <= currentTime.\n        // If currentTime is before the first verse, index will be -1 (no verse selected).\n        let currentVerseIndex = -1;\n        for (let i = 0; i < verseTimes.length; i++) {\n            if (currentTime >= parseTimestampToSeconds(verseTimes[i])) {\n                currentVerseIndex = i;\n            } else {\n                break;\n            }\n        }\n\n        // Only update the select if the verse actually changed\n        if (currentVerseIndex !== -1 && currentVerseIndex !== lastSelectedVerse) {\n            lastSelectedVerse = currentVerseIndex;\n            // Verses are 1-based in the select, so add 1\n            ctx.verseSelect.value = currentVerseIndex + 1;\n        }\n    });\n}\n\n    ctx.bookSelect = bookSelect\n    ctx.chapterSelect = chapterSelect\n    \n    const bibleBlockButtonGroup = elem('div', {className: ctx.class.bibleBlockButtonGroup})\n    bibleBlockButtonGroup.appendChild(elem('button', {\n        innerHTML: ctx.icons.bibles,\n        className: ctx.class.bibleListNavButton,\n        onclick: () => {\n            ctx.view = 'bible';\n            ctx.render();\n        }\n    }))\n    if (ctx.view === \"chapter\") {\n        bibleBlockButtonGroup.appendChild(elem('button', {\n            innerHTML: ctx.icons.books,\n            className: ctx.class.bookListNavButton,\n            onclick: () => {\n                ctx.view = 'book';\n                updateBookList(ctx);\n                ctx.render();\n            }\n        }));\n    }\n    if (ctx.view === \"book\") {\n        bibleBlockButtonGroup.appendChild(elem('button', {\n            innerHTML: ctx.icons.chapters,\n            className: ctx.class.chapterListNavButton,\n            onclick: () => {\n                ctx.view = 'chapter';\n                chapterList(ctx);\n                ctx.render();\n            }\n        }));\n    }\n    bibleBlockInfoWrap.append(bibleBlockButtonGroup)\n    ctx.bibleBlock.append(bibleBlockInfoWrap)\n    ctx.bibleBlock.appendChild(chapterBookSelectWrapper)\n    updateBookList(ctx);\n}\n\nexport function handleBookChange(ctx, bookId, chapter = 1) {\n    const selectedBook = ctx.currentBooks.data.find(book => book.book_id === bookId);\n    if (!selectedBook) return;\n\n    setCurrentChapter(selectedBook, chapter);\n    const url = new URL(window.location);\n    url.searchParams.set('bookId', selectedBook.book_id);\n    window.history.replaceState({}, '', url);\n\n    ctx.query = '';\n    ctx.chapterListContainer.style.display = \"block\";\n    ctx.view = \"chapter\";\n    ctx.currentBook = selectedBook;\n\n    chapterList(ctx);\n    updateCurrentBibleBlock(ctx, ctx.currentBible);\n}\n\nexport function initBookList(ctx) {\n    const searchInput = elem('input', {\n        type: 'search',\n        placeholder: ctx.i18n?.filter_books ?? 'Filter Books',\n        className: ctx.class.searchInput,\n        ariaLabel: 'search',\n        autocomplete: 'off',\n        oninput: () => {\n            ctx.query = searchInput.value;\n            console.log(searchInput.value, ctx.currentBooks.data)\n            ctx.resultsBooks = fuzzySearch(ctx.query, ctx.currentBooks.data, ['name'])\n            updateBookList(ctx);\n        }\n    });\n    const searchInputContainer = elem('div', { className: ctx.class.searchInputContainer });\n    searchInputContainer.appendChild(searchInput);\n    ctx.bookListContainer.appendChild(searchInputContainer);\n    ctx.bookListContainer.appendChild((ctx.bookListGrid = elem('div', { className: ctx.class.bookListGrid })));\n    updateBookList(ctx);\n}\n\nexport function createBookButton(ctx, book) {\n    const button = elem('button', {\n        className: `${book.book_id} ${ctx.class.bookListButton} ${((ctx.currentBook.book_id == book.book_id) ? ctx.class.bookListButtonActive : '')}`,\n        ariaLabel: book.name,\n        onclick: () => handleBookChange(ctx, book.book_id)\n    });\n    button.dataset.bookId = book.book_id;\n    const contentContainer = elem('div');\n    contentContainer.append(\n        elem('h2', { className: ctx.class.bookListTitle, textContent: book.name }),\n        elem('h3', { className: ctx.class.bookListId, textContent: book.book_id })\n    );\n    button.appendChild(contentContainer);\n    return button;\n}\n\nexport function updateBookList(ctx) {\n    const bookListGrid = ctx.bookListGrid;\n    bookListGrid.innerHTML = '';\n    if (ctx.resultsBooks && ctx.resultsBooks.length && ctx.query !== '') {\n        ctx.resultsBooks.forEach(result => {\n            bookListGrid.appendChild(createBookButton(ctx, result.item));\n        });\n    } else if (ctx.currentBooks && ctx.query === '') {\n        if (ctx.currentBooks['data']) {\n            ctx.currentBooks['data'].forEach(book => {\n                bookListGrid.appendChild(createBookButton(ctx, book));\n            });\n        }\n    }\n}\n\nfunction timestampToSeconds(t) {\n    const [h, m, s] = t.split(/:|\\./).map(Number);\n    return Math.floor(h * 3600 + m * 60 + +s);\n}\n\nfunction findTimestampPositionForRange(timestamps, targetSeconds) {\n    let previousSeconds = 0;\n    for (let i = 0; i < timestamps.length; i++) {\n        const currentSeconds = timestampToSeconds(timestamps[i]);\n        if (\n            targetSeconds === currentSeconds ||\n            (targetSeconds > previousSeconds && targetSeconds < currentSeconds)\n        ) {\n            return \":\" + (i + 1);\n        }\n        previousSeconds = currentSeconds;\n    }\n\n    if (targetSeconds > previousSeconds && timestamps.length != 0) {\n        return \":\" + timestamps.length;\n    }\n    return \"\";\n}\n","import { elem } from \"./AudioPlayerHelpers.mjs\";\nimport { setCurrentChapter } from \"./AudioPlayerProviders.mjs\";\nimport { createPlaybackRateControls } from './MediaPlaybackRate.mjs'\nimport { createVolumeAndSleepControls } from './MediaSleepTimer.mjs'\nimport { handleChapterChange } from \"./AudioPlayerChapterList.mjs\";\nimport { handleBookChange } from \"./AudioPlayerBibleList.mjs\";\nimport { createProgressBar } from './MediaProgressBar.mjs'\n\nexport function createAudioElement(ctx) {\n    const container = document.createDocumentFragment();\n    const controlsContainer = elem('div', { className: ctx.class.controlsContainer });\n    const navRow = elem('div', { className: ctx.class.navRow });\n\n    const prevBookButton = elem('button', {\n        className: ctx.class.prevBookButton,\n        innerHTML: ctx.icons.PrevBook,\n        onclick: () => {\n            const index = ctx.currentBooks.data.findIndex(book => book.book_id === ctx.currentBook.book_id);\n            if(ctx.currentBooks.data[index - 1]) {\n                handleBookChange(ctx, ctx.currentBooks.data[index - 1].book_id)\n                handleChapterChange(ctx, ctx.currentBooks.data[index - 1], 1)\n            }\n        }\n    });\n\n    const prevChapterButton = elem('button', {\n        className: ctx.class.prevChapterButton,\n        innerHTML: ctx.icons.PrevChapter,\n        onclick: () => prevChapter(ctx)\n    });\n\n    const skipBackButton = createSkipButton(ctx, 'back');\n    const playIcon = elem('span', {className: ctx.class.playPauseIcon,innerHTML: ctx.icons.play});\n    const playPauseButton = elem('button', {\n        className: ctx.class.playPauseButton,\n        onclick: () => ctx.audio.paused ? ctx.audio.play() : ctx.audio.pause()\n    });\n    playPauseButton.appendChild(playIcon);\n    ctx.audio.addEventListener('play', () => {\n        playIcon.innerHTML = ctx.icons.pause;\n    });\n    ctx.audio.addEventListener('pause', () => {\n        playIcon.innerHTML = ctx.icons.play;\n    });\n\n\n    const skipForwardButton = createSkipButton(ctx, 'forward');\n    const nextChapterButton = elem('button', {\n        className: ctx.class.nextChapterButton,\n        innerHTML: ctx.icons.nextChapter,\n        onclick: () => nextChapter(ctx)\n    });\n\n    const nextBookButton = elem('button', {\n        className: ctx.class.nextBookButton,\n        innerHTML: ctx.icons.nextBook,\n        onclick: () => {\n            const index = ctx.currentBooks.data.findIndex(book => book.book_id === ctx.currentBook.book_id);\n            if(ctx.currentBooks.data[index + 1]) {\n                handleBookChange(ctx, ctx.currentBooks.data[index + 1].book_id)\n                handleChapterChange(ctx, ctx.currentBooks.data[index + 1], 1)\n            }\n        }\n    });\n\n    navRow.append(\n        prevBookButton,\n        prevChapterButton,\n        skipBackButton,\n        playPauseButton,\n        skipForwardButton,\n        nextChapterButton,\n        nextBookButton\n    );\n    controlsContainer.append(navRow);\n    controlsContainer.append(createProgressBar(ctx));\n    const { volumeRow, sleepTimerButton } = createVolumeAndSleepControls(ctx);\n    controlsContainer.append(createPlaybackRateControls(ctx));\n    controlsContainer.appendChild(volumeRow);\n    volumeRow.appendChild(sleepTimerButton);\n    volumeRow.appendChild(sleepTimerButton);\n    container.appendChild(volumeRow);\n    container.appendChild(controlsContainer);\n\n    return container;\n}\n\nexport async function prevChapter(ctx) {\n    if ((ctx.currentChapter.number - 1) > 1) {\n        handleChapterChange(ctx, ctx.currentBook, (ctx.currentChapter.number - 1))\n    } else {\n        //console.log('Already at the last chapter.');\n        const index = ctx.currentBooks.data.findIndex(book => book.book_id === ctx.currentBook.book_id);\n        if(ctx.currentBooks.data[index - 1]) {\n            handleBookChange(ctx, ctx.currentBooks.data[index - 1].book_id)\n            handleChapterChange(ctx, ctx.currentBooks.data[index - 1], 1)\n        }\n    }\n}\n\nexport async function nextChapter(ctx) {\n    if (ctx.currentChapter.number < ctx.currentBook.chapters.length - 1) {\n        handleChapterChange(ctx, ctx.currentBook, (ctx.currentChapter.number + 1))\n    } else {\n        //console.log('Already at the last chapter.');\n        const index = ctx.currentBooks.data.findIndex(book => book.book_id === ctx.currentBook.book_id);\n        if(ctx.currentBooks.data[index + 1]) {\n            handleBookChange(ctx, ctx.currentBooks.data[index + 1].book_id)\n            handleChapterChange(ctx, ctx.currentBooks.data[index + 1], 1)\n        }\n    }\n}\n\nfunction createSkipButton(ctx, direction) {\n    const isForward = direction === 'forward';\n    const icon = isForward ? ctx.icons.skipForward : ctx.icons.skipBackward;\n    const skipTime = isForward ? 15 : -15;\n\n    return elem('button', {\n        className: isForward ? ctx.class.skipForwardButton : ctx.class.skipBackButton,\n        innerHTML: icon,\n        onclick: () => {\n            ctx.audio.currentTime += skipTime;\n            if (ctx.audio.currentTime < 0) ctx.audio.currentTime = 0;\n            if (ctx.audio.currentTime > ctx.audio.duration) ctx.audio.currentTime = ctx.audio.duration; // Prevent exceeding duration\n        }\n    });\n}","import { elem, formatTime, parseTimestampToSeconds } from \"./AudioPlayerHelpers.mjs\";\n\nexport function createProgressBar(ctx) {\n    function seekAudio(event, ctx, progressWrapper) {\n        const rect = progressWrapper.getBoundingClientRect();\n        const clickRatio = (event.clientX - rect.left) / rect.width;\n        ctx.audio.currentTime = Math.max(0, Math.min(clickRatio, 1)) * ctx.audio.duration;\n    }\n\n    const progressContainer = elem('div', { className: ctx.class?.progress?.container });\n    const currentTimeDisplay = elem('div', {\n        id: 'currentTime',\n        className: ctx.class?.progress?.currentTimeDisplay,\n        textContent: formatTime(ctx.audio.currentTime)\n    });\n\n    const progressWrapper = elem('div', { id: 'progress-wrapper', className: ctx.class?.progress?.wrapper });\n    const progressBarInner = elem('div', { id: 'progress-bar', className: ctx.class?.progress?.barInner, style: { width: '0%' } });\n    const timestampWrapper = elem('div', {id: 'timestamps-wrapper', className:ctx.class?.progress?.timestamps})\n\n    const circleTip = elem('div', { \n        className: ctx.class?.progress?.circleTip, \n        style: { left: '0%' } \n    });\n\n    progressWrapper.append(progressBarInner, circleTip);\n    const onMouseMove = (event) => {\n        if (ctx.isDragging) {\n            seekAudio(event, ctx, progressWrapper);\n        }\n    };\n\n    const onMouseUp = () => {\n        if (ctx.isDragging) {\n            ctx.isDragging = false;\n            document.body.style.userSelect = '';\n            document.removeEventListener('mousemove', onMouseMove);\n            document.removeEventListener('mouseup', onMouseUp);\n        }\n    };\n\n    progressWrapper.addEventListener('mousedown', () => {\n        ctx.isDragging = true;\n        document.body.style.userSelect = 'none';\n        document.addEventListener('mousemove', onMouseMove);\n        document.addEventListener('mouseup', onMouseUp);\n    });\n\n    progressWrapper.addEventListener('click', (e) => {\n        seekAudio(e, ctx, progressWrapper);\n    });\n\n    const durationDisplay = elem('div', {\n        className: ctx.class?.progress?.durationDisplay,\n        textContent: formatTime(ctx.audio.duration || 0)\n    });\n\n    ctx.audio.addEventListener('timeupdate', () => {\n        const progressPercent = (ctx.audio.currentTime / ctx.audio.duration) * 100;\n        progressBarInner.style.width = `${progressPercent}%`;\n        circleTip.style.left = `calc(${progressPercent}% - 3px)`;\n        currentTimeDisplay.textContent = formatTime(ctx.audio.currentTime);\n    });\n\n    ctx.audio.addEventListener('loadedmetadata', () => {\n        timestampWrapper.innerHTML = '';\n        durationDisplay.textContent = formatTime(ctx.audio.duration);\n\n        if (ctx.currentChapter.timestamps && Array.isArray(ctx.currentChapter.timestamps)) {\n    \n            ctx.currentChapter.timestamps.forEach(tsStr => {\n                const tsSeconds = parseTimestampToSeconds(tsStr);\n                if (tsSeconds <= ctx.audio.duration && tsSeconds >= 0) {\n                    const tickPercent = (tsSeconds / ctx.audio.duration) * 100;\n                    const tick = elem('div', {\n                        className: `progress-tick ${ctx?.class?.progress?.tick}`,\n                        style: { left: `${tickPercent}%` }\n                    });\n    \n                    timestampWrapper.appendChild(tick);\n                }\n            });\n        }\n    });\n\n    progressWrapper.append(timestampWrapper)\n    progressContainer.append(currentTimeDisplay, progressWrapper, durationDisplay);\n\n    return progressContainer;\n}\n","import { elem, formatTime } from \"./AudioPlayerHelpers.mjs\";\n\nexport function createVolumeAndSleepControls(ctx) {\n    const volumeRow = elem('div', { className: ctx.class.volumeRow });\n    const volumeInput = elem('input', {\n        type: 'range',\n        min: '0',\n        max: '1',\n        step: '0.01',\n        className: ctx.class.volumeInput,\n        id: 'volume-control',\n        value: ctx.audio.volume\n    });\n    volumeInput.addEventListener('input', () => {\n        ctx.audio.volume = parseFloat(volumeInput.value);\n    });\n    const volumeLabel = elem('label', {\n        htmlFor: 'volume-control',\n        className: ctx.class.volumeLabel,\n        innerHTML: ctx.icons.volumeIcon\n    });\n    volumeLabel.appendChild(volumeInput);\n    volumeRow.appendChild(volumeLabel);\n\n    const sleepTimerButton = elem('button', { className: ctx.class.sleepTimerButton, innerHTML: ctx.icons.sleepTimer});\n    let sleepTimer = null;\n    let elapsedTime = 0;\n    const sleepDuration = 1 * 60 * 1000;\n    const sleepTimerDuration = elem('span', {\n        className: ctx.class.sleepTimerDuration,\n        textContent: formatTime(sleepDuration / 1000)\n    });\n\n    sleepTimerButton.appendChild(sleepTimerDuration);\n    sleepTimerButton.addEventListener('click', () => {\n        if (sleepTimer) {\n\n            clearInterval(sleepTimer);\n            sleepTimer = null;\n            volumeInput.value = 1;\n            ctx.audio.volume = 1;\n            elapsedTime = 0;\n            updateSleepTimerUI(sleepDuration);\n        } else {\n            // Start sleep timer\n            elapsedTime = 0;\n            sleepTimer = setInterval(() => {\n                elapsedTime += 1000;\n                const remainingTime = sleepDuration - elapsedTime;\n                const newVolume = remainingTime / sleepDuration;\n\n                volumeInput.value = Math.max(0, newVolume);\n                ctx.audio.volume = parseFloat(volumeInput.value);\n                updateSleepTimerUI(remainingTime);\n\n                if (elapsedTime >= sleepDuration) {\n                    clearInterval(sleepTimer);\n                    sleepTimer = null;\n                    ctx.audio.pause();\n                    updateSleepTimerUI(0);\n                }\n            }, 1000);\n        }\n    });\n\n    function updateSleepTimerUI(remainingTime) {\n        const percentageElapsed = elapsedTime / sleepDuration;\n        const dashArray = 2 * Math.PI * 9;\n        sleepTimerDuration.textContent = formatTime(remainingTime / 1000);\n\n        const sleepIcon = sleepTimerButton.querySelector('svg circle:nth-child(2)');\n        if (sleepIcon) {\n            sleepIcon.setAttribute('stroke-dashoffset', (1 - percentageElapsed) * dashArray);\n        }\n    }\n\n    return { volumeRow, sleepTimerButton };\n}\n","import { elem } from \"./AudioPlayerHelpers.mjs\";\n\nexport function createPlaybackRateControls(ctx) {\n    const MIN_RATE = ctx.options?.playbackRate?.min ?? 0.5;\n    const MAX_RATE = ctx.options?.playbackRate?.max ?? 2.25;\n    const STEP = ctx.options?.playbackRate?.step ?? 0.25;\n\n    const updateButtonState = (button, isDisabled) => {\n        button.className = `${button.baseClassName} ${isDisabled ? ctx.class.playbackRate?.disabled : ''}`;\n    };\n    const changeRate = (delta) => {\n        ctx.audio.playbackRate = Math.min(MAX_RATE, Math.max(MIN_RATE, ctx.audio.playbackRate + delta));\n        playbackRateElem.textContent = ctx.audio.playbackRate.toFixed(2);\n        \n        updateButtonState(decrementButton, ctx.audio.playbackRate === MIN_RATE);\n        updateButtonState(incrementButton, ctx.audio.playbackRate === MAX_RATE);\n    };\n\n    const playbackRateWrapperElem = elem('div', { className: ctx.class.playbackRate?.wrapper });\n    const decrementButton = elem('button', {\n        baseClassName: ctx.class.playbackRate?.decrease,\n        className: ctx.class.playbackRate?.decrease,\n        textContent: '-',\n        onclick: () => changeRate(-STEP),\n    });\n\n    const playbackRateElem = elem('span', {\n        className: ctx.class.playbackRate?.display,\n        textContent: ctx.audio.playbackRate.toFixed(2),\n    });\n    const incrementButton = elem('button', {\n        baseClassName: ctx.class.playbackRate?.increase,\n        className: ctx.class.playbackRate?.increase,\n        textContent: '+',\n        onclick: () => changeRate(STEP),\n    });\n\n    playbackRateWrapperElem.append(decrementButton, playbackRateElem, incrementButton);\n    return playbackRateWrapperElem;\n}","import { mergeClasses, mergeIcons, mergeArt } from './AudioPlayerStyles.mjs'\nimport { harkList, selectBible } from './AudioPlayerProviders.mjs';\nimport { elem } from './AudioPlayerHelpers.mjs'\nimport { createAudioElement } from './AudioPlayerMedia.mjs'\nimport { initBibleList, handleBibleButtonClick,initBookList, updateBookList } from './AudioPlayerBibleList.mjs';\nimport { handleBookChange } from './AudioPlayerBibleList.mjs';\n\nexport default class AudioPlayer {\n    constructor(containerId, options) {\n        this.container = document.getElementById(containerId);\n        this.bookListGrid = null;\n        this.mediaPlayerWrap = null;\n        this.providers = options.providers ?? [\"hark\"];\n        this.bibles = [];\n        this.engineBibles = null;\n        this.currentBible = null;\n        this.currentBooks = [];\n        this.currentBook = null;\n        this.currentChapter = { number: 0 };\n        this.audio = document.createElement('audio');\n        this.currentType = 'hark';\n\n        this.isDragging = false;\n\n        this.class = mergeClasses(options.classes);\n        this.icons = mergeIcons(options.icons);\n        this.art = mergeArt(options.art);\n\n        this.results = [];\n        this.query = \"\";\n        this.engineBooks = null;\n        this.view = \"bible\";\n        this.idPrefix = options?.idPrefix ?? \"audio-player\";\n\n        this.bookSelect = null\n        this.chapterSelect = null\n    }\n\n    static async create(containerId, options) {\n        const player = new AudioPlayer(containerId, options);\n\n        if (player.providers.includes('hark')) {\n            player.bibles = player.bibles.concat(await harkList());\n        }\n        if (player.providers.includes('dbp')) {\n            player.bibles = player.bibles.concat(await dbpList());\n        }\n\n        this.bibles = player.bibles;\n\n        player.container.innerHTML = '';\n        const playerContainer = elem('div', {id: `${player.idPrefix}-player-container`, className: player.class.playerContainer});\n        const playerHeader = elem('div', {className: player.class.playerHeader});\n        const bibleListContainer = player.bibleListContainer = elem('div', { id: `${player.idPrefix}-bible-list-container`, className: player.class.bibleListContainer});\n        const bookListContainer = player.bookListContainer = elem('div', {id: `${player.idPrefix}-book-list-container`, className: player.class.bookListContainer});\n        const chapterListContainer = player.chapterListContainer = elem('div', {id: `${player.idPrefix}-chapter-list-container`, className: player.class.chapterListContainer});\n        player.bibleBlock = elem('div', {id: `${player.idPrefix}-bible-block`, className: player.class.bibleBlock});\n        const mediaPlayerWrap = createMediaPlayer(player);\n        player.player = mediaPlayerWrap;\n\n        playerContainer.appendChild(player.bibleBlock);\n        playerContainer.appendChild(player.audio);\n        playerContainer.appendChild(player.player);\n\n        initBookList(player);\n        playerContainer.appendChild(bookListContainer);\n        playerContainer.appendChild(chapterListContainer);\n        player.container.appendChild(playerContainer);\n        playerContainer.appendChild(bibleListContainer);\n\n        const url = new URL(window.location);\n        if (url.searchParams.get('bibleId')) {\n            await handleBibleButtonClick(player, this.bibles.find(bible => bible.id == url.searchParams.get('bibleId')))\n            player.view = 'book'\n        }\n        if (url.searchParams.get('bookId')) {\n            await handleBookChange(player,url.searchParams.get('bookId'))\n            player.view = 'chapter'\n        }\n        if (player.view === 'bible') {\n            initBibleList(player);\n            mediaPlayerWrap.style.display = 'none';\n            bibleListContainer.style.display = 'block';\n            bookListContainer.style.display  = 'none';\n            chapterListContainer.style.display  = 'none';\n        } else if (player.view === 'book') {\n            mediaPlayerWrap.style.display = 'block';\n            bibleListContainer.style.display = 'none';\n            chapterListContainer.style.display  = 'none';\n            bookListContainer.style.display  = 'block';\n        } else if (player.view === 'chapter') {\n            mediaPlayerWrap.style.display = 'block';\n            bibleListContainer.style.display = 'none';\n            chapterListContainer.style.display  = 'block';\n            bookListContainer.style.display  = 'none';\n        }\n\n        return player;\n    }\n\n    render() {\n        if (this.view === 'bible') {\n            initBibleList(this);\n\n            this.bibleListContainer.style.display = 'block';\n            this.bookListContainer.style.display = 'none';\n            this.chapterListContainer.style.display = 'none';\n    \n            if (this.player && !this.currentChapter) {\n                this.player.style.display = 'none';\n            }\n    \n        } else if (this.view === 'book') {\n\n            this.bibleListContainer.style.display = 'none';\n            this.chapterListContainer.style.display = 'none';\n            this.bookListContainer.style.display = 'block';\n            updateBookList(this);\n    \n            // Show media player\n            if (this.player) {\n                this.player.style.display = 'block';\n            }\n    \n        } else if (this.view === 'chapter') {\n            this.bibleListContainer.style.display = 'none';\n            this.chapterListContainer.style.display = 'block';\n            this.bookListContainer.style.display = 'none';\n            chapterList(this);\n    \n            // Show media player\n            if (this.player) {\n                this.player.style.display = 'block';\n            }\n        }\n    }\n    \n    setData(newData) {\n        Object.assign(this, newData);\n        // If necessary, re-render or update the UI here\n    }\n}\n\nfunction createMediaPlayer(ctx) {\n    const mediaPlayerWrap = elem('div', {\n        id: \"media-player-wrap\",\n        className: ctx.class.mediaPlayerWrap\n    });\n\n    const audioElement = createAudioElement(ctx);\n    mediaPlayerWrap.appendChild(audioElement);\n\n    return mediaPlayerWrap;\n}\n"],"names":["defaultClasses","playerHeader","playerContainer","bibleListContainer","chapterListContainer","bibleListGrid","bibleBlockInfoWrap","bibleBlock","bibleBlockTitleGroup","bibleBlockVernacular","bibleBlockTitle","bibleBlockLanguageGroup","bibleBlockIso","bibleBlockButtonGroup","container","audio","controlsContainer","navRow","prevBookButton","prevChapterButton","playPauseButton","playPauseIcon","nextChapterButton","nextBookButton","controlRow2","leftControls","playbackRate","wrapper","display","increase","decrease","disabled","rightControls","playSpeedControl","decreaseSpeedButton","increaseSpeedButton","skipBackButton","skipForwardButton","progress","barInner","circleTip","currentTimeDisplay","durationDisplay","tick","mediaPlayerWrap","mediaPlayerHeader","mediaPlayerBody","mediaPlayerNavRow","bibleListNavButton","bookListNavButton","chapterListNavButton","volumeRow","volumeControl","volumeInput","volumeLabel","selectBookChapterWrap","selectBook","selectChapter","selectVerseSeparator","selectVerse","bibleButton","languageWrap","language","iso","titleWrap","title","vernacular","sleepTimerButton","sleepTimerDuration","sleepTimerWrap","searchWrapper","searchInput","searchInputContainer","bookListContainer","bookListGrid","bookListButton","bookListButtonActive","bookListTitle","bookListId","chapterButton","chapterButtonActive","defaultIcons","sleepTimer","chapters","bibles","books","PrevBook","PrevChapter","nextChapter","nextBook","play","pause","volumeIcon","skipBackward","skipForward","defaultArt","BASE_CONTENT_URL","async","selectBible","ctx","id","query","filenameRequest","fetch","filenames","text","booksMap","Map","filenamePattern","split","sort","forEach","filename","match","bookNumber","bookName","chapterString","chapterNumber","parseInt","key","has","set","name","book_number","book_id","get","push","timingFiles","response","ok","console","warn","error","message","book","values","a","b","bible_id","bible_folder","timestamps","data","Array","from","harkSelect","currentBooks","selectedBible","find","bible","abbr","currentBible","URL","window","location","searchParams","chapter","currentBook","setCurrentChapter","setBookAndChapter","safeChapter","includes","currentType","padLength","currentChapter","path","toString","padStart","number","src","url","timestampRegex","timestampsText","then","catch","verseTimestamps","exec","timestamp","elem","tag","props","el","document","createElement","val","Object","entries","assign","style","formatTime","timeInSeconds","seconds","parseTimestampToSeconds","timestampStr","hours","minutes","parseFloat","chapterList","innerHTML","fragment","createDocumentFragment","className","class","ariaLabel","textContent","onclick","handleChapterChange","appendChild","bookArt","art","artElement","file","chapterSelect","value","querySelector","paused","icons","fuzzySearch","headers","queryLower","toLowerCase","threshold","Math","max","length","reduce","results","item","totalScore","matches","header","itemValue","score","d","_","i","j","prev","temp","min","getLevenshteinDistance","initBibleList","input","type","placeholder","autocomplete","oninput","updateBibleGrid","setAttribute","map","result","button","handleBibleButtonClick","dataset","testId","tv","tt","bibleListButtonLanguage","ln","bibleListButtonTitle","createBibleButton","tp","view","updateCurrentBibleBlock","render","history","replaceState","innerText","cn","append","chapterBookSelectWrapper","bookSelect","option","selected","addEventListener","event","handleBookChange","target","isArray","verseSelect","index","verseNumber","verseIndex","tsStr","verseTime","currentTime","verseColonSeparator","lastSelectedVerse","verseTimes","currentVerseIndex","updateBookList","bookId","selectedBook","createBookButton","contentContainer","resultsBooks","createAudioElement","findIndex","prevChapter","createSkipButton","playIcon","seekAudio","progressWrapper","rect","getBoundingClientRect","clickRatio","clientX","left","width","duration","progressContainer","progressBarInner","timestampWrapper","onMouseMove","isDragging","onMouseUp","body","userSelect","removeEventListener","e","progressPercent","tsSeconds","tickPercent","createProgressBar","step","volume","htmlFor","elapsedTime","sleepDuration","updateSleepTimerUI","remainingTime","percentageElapsed","dashArray","PI","sleepIcon","clearInterval","setInterval","newVolume","createVolumeAndSleepControls","MIN_RATE","options","MAX_RATE","STEP","updateButtonState","isDisabled","baseClassName","changeRate","delta","playbackRateElem","toFixed","decrementButton","incrementButton","playbackRateWrapperElem","createPlaybackRateControls","direction","isForward","icon","skipTime","AudioPlayer","constructor","containerId","this","getElementById","providers","engineBibles","customClasses","mergedClasses","keys","startsWith","substring","mergeClasses","classes","customIcons","mergedIcons","mergeIcons","customArt","mergedArt","mergeArt","engineBooks","idPrefix","create","player","concat","country_id","provider","baseBibles","json","output","baseBible","ci","filter","harkList","dbpList","audioElement","createMediaPlayer","i18n","filter_books","log","initBookList","setData","newData"],"mappings":"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"}