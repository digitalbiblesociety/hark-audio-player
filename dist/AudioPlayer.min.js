const e={playerHeader:"select-none ",playerContainer:"select-none w-full mx-auto max-w-7xl",bibleListContainer:"select-none ",chapterListContainer:"select-none relative w-full max-w-4xl mx-auto",bibleListGrid:"select-none grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",bibleBlockInfoWrap:"select-none flex flex-row justify-between gap-4 max-w-md w-full mx-auto bg-stone-100 border border-stone-200 mt-12 p-3",bibleBlock:"select-none flex flex-col justify-between text-sm text-center md:text-base lg:text-lg font-semibold text-black",bibleBlockTitleGroup:"select-none flex-shrink truncate",bibleBlockVernacular:"select-none truncate text-sm mb-1",bibleBlockTitle:"select-none truncate text-2xl font-semibold",bibleBlockLanguageGroup:"select-none ",bibleBlockIso:"select-none text-sm",bibleBlockButtonGroup:"select-none flex flex-col justify-between",container:"select-none audio-player-container mx-auto max-w-7xl w-full",audio:"select-none ",controlsContainer:"select-none controls-container flex flex-col",navRow:"select-none flex flex-row items-center justify-center gap-4 py-4 bg-stone-100 border border-stone-200 w-full max-w-md mx-auto",prevBookButton:"select-none prev-book-button flex justify-center items-center",prevChapterButton:"select-none prev-chapter-button flex justify-center items-center",playPauseButton:"select-none play-pause-button flex justify-center items-center",playPauseIcon:"select-none icon-play",nextChapterButton:"select-none next-chapter-button flex justify-center items-center",nextBookButton:"select-none next-book-button flex justify-center items-center",controlRow2:"select-none grid grid-cols-5 mb-1",leftControls:"select-none flex flex-row justify-center items-center col-span-2 space-x-6",playbackRate:{wrapper:"select-none flex mx-auto w-full max-w-md justify-center px-8 py-2 bg-stone-100 text-xs",display:"select-none mx-1 text-stone-400 text-sm",increase:"select-none w-6 h-6 border-2 rounded-2xl text-stone-500",decrease:"select-none w-6 h-6 border-2 rounded-2xl text-stone-500",disabled:"select-none opacity-50"},rightControls:"select-none flex flex-row justify-center items-center col-span-2 space-x-6",playSpeedControl:"select-none flex flex-row justify-center items-center text-xs",decrementIcon:"size-6",incrementIcon:"size-6",decreaseSpeedButton:"select-none w-6 h-6 border-2 rounded-2xl hover:border-blue-600 dark:hover:border-white text-stone-500 dark:hover:text-white",increaseSpeedButton:"select-none w-6 h-6 border-2 rounded-2xl hover:border-blue-600 dark:hover:border-white text-stone-500 dark:hover:text-white",skipBackButton:"select-none skip-backward-button flex justify-center items-center text-stone-400 hover:text-blue-600 dark:text-white dark:hover:text-blue-400",skipForwardButton:"select-none skip-forward-button flex justify-center items-center text-stone-400 hover:text-blue-600 dark:text-white dark:hover:text-blue-400",progress:{container:"select-none flex mx-auto w-full max-w-md justify-around px-1 pt-4 bg-stone-100 text-xs",wrapper:"select-none mx-auto min-w-80 mx-3 w-3/4 sm:w-5/6 h-3 rounded-lg relative border bg-gradient-to-br shadow-inner border-stone-300 from-white to-stone-200 dark:from-neutral-50 dark:to-stone-400 border-stone-500",barInner:"select-none h-3 w-0 bg-blue-600 rounded-md",circleTip:"select-none absolute top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-5 h-5 bg-blue-600 rounded-full border border-blue-500",currentTimeDisplay:"select-none text-black",durationDisplay:"select-none text-black",tick:"select-none w-[1.5px] absolute top-0 h-full bg-stone-400"},mediaPlayerWrap:"select-none w-full flex flex-col justify-center",mediaPlayerHeader:"select-none ",mediaPlayerBody:"select-none ",mediaPlayerNavRow:"select-none grid grid-cols-5 px-2 text-stone-700 dark:text-stone-300 divide-x divide-stone-500 dark:divide-stone-600",bibleListNavButton:"select-none ",bookListNavButton:"select-none ",chapterListNavButton:"select-none ",volumeRow:"select-none flex mx-auto w-full max-w-md justify-center items-center px-8 bg-stone-100 text-xs",volumeControl:"select-none volume-control w-full",volumeInput:"select-none w-full",volumeLabel:"select-none flex flex-row pl-2 mx-4 w-1/2",selectBookChapterWrap:"select-none relative bg-stone-100 flex flex-row gap-2 w-full max-w-md mx-auto",selectBook:"select-none inline-flex items-center gap-x-1.5 bg-stone-100 hover:bg-stone-200 px-3 py-2 w-full",selectChapter:"select-none inline-flex items-center text-center bg-stone-100 w-12 hover:bg-stone-200 border-none appearance-none",selectVerseSeparator:"select-none inline-flex items-center bg-stone-100",selectVerse:"inline-flex items-center text-center bg-stone-100 w-12 hover:bg-stone-200 border-none appearance-none",bibleButton:{wrapper:"select-none flex flex-row bg-stone-100 border border-stone-200 rounded min-h-20 hover:bg-stone-200",languageWrap:"select-none py-1 bg-stone-200 h-full w-24 flex flex-col justify-center items-center",language:"select-none text-sm font-medium text-stone-900",iso:"select-none truncate font-mono mt-1 text-sm text-stone-500",titleWrap:"select-none py-1 h-full w-full flex flex-col justify-center items-center",title:"select-none line-clamp-2 text-center text-sm font-medium text-stone-900",vernacular:"select-none line-clamp-1 text-sm text-stone-500"},sleepTimerButton:"select-none sleep-timer-button group block py-1.5 px-1",sleepTimerDuration:"select-none text-xs pl-1 pt-2 inline-block timer-display",sleepTimerWrap:"select-none flex flex-row justify-center align-start text-stone-400 hover:text-blue-600",searchWrapper:"select-none mx-auto flex items-center w-1/3 my-3",searchInput:"select-none px-4 py-2 w-full max-w-7xl mx-auto bg-white border border-stone-200",searchInputContainer:"select-none flex w-full max-w-xl mx-auto my-4",bookListContainer:"select-none w-full",bookListGrid:"select-none grid grid-cols-3 md:grid-cols-4 gap-2",bookListButton:"select-none bg-stone-100 border rounded md:rounded-lg",bookListButtonActive:"select-none bg-stone-100 border border-stone-300",bookListTitle:"select-none font-medium text-sm lg:text-base",bookListId:"select-none w-full flex justify-end opacity-60 text-sm mr-8",chapterButton:"select-none bg-stone-100/90 w-12 h-12 m-2 border border-stone-700 rounded text-lg hover:bg-stone-300",chapterButtonActive:"select-none bg-stone-500 text-stone-100"},t={speedSlow:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 30"><path d="M4.83 10.06a.67.67 0 1 0 0 1.34.67.67 0 0 0 0-1.34zm.56-2.02c.43 0 .85.09 1.22.28 1.07.55 1.4 1.46 1.64 2.4.3 1.22-.07 1.95.12 2.75.17.77 1.14 3.28 4.6 5.41 3.1 1.92 8.61 2.37 15.01.26.44-.14.87-.08 1 .72a13 13 0 0 0 .76 2.78c.15.36.2.66.1.93-.11.27-.35.43-.63.56-.93.42-1.77.6-2.73.63-.36.01-.65-.15-.84-.38a1.6 1.6 0 0 1-.3-.77c-.1-.65-.16-1.37-.16-2.08 0-.25-.13-.39-.4-.25a10.32 10.32 0 0 1-5.08 1.08 9.96 9.96 0 0 1-4.97-1.46c-.25-.16-.44-.02-.44.21-.02.74.03 1.52.14 2.25.06.4.04.71-.14.94-.17.24-.45.33-.76.38a6.5 6.5 0 0 1-2.88-.16 1.26 1.26 0 0 1-.85-.76 2.01 2.01 0 0 1-.1-.93c.13-1.23.06-2.66.69-3.97.17-.36.18-.54-.34-.62-2.83-.38-6.17-2.19-7.4-3.84a3.03 3.03 0 0 1-.54-1.1c-.07-.33-.05-.68.44-.48.58.24 1.24.21 1.88-.03.3-.12.16-.44-.15-.32-.53.16-1.11.05-1.64-.14-.43-.15-.6-.53-.67-.88-.09-.5.08-1 .33-1.38a4.84 4.84 0 0 1 1.8-1.71c.42-.2.86-.31 1.29-.32Zm9.17 1.25.53 2.31a12.91 12.91 0 0 0-2.73 4.28c-.17.5.28.74.41.4.59-1.49 1.6-3.16 2.67-4.3l3.5 1.42a8.7 8.7 0 0 0-.32 2.66c0 .94.1 1.83.12 2.5.02.41.54.4.52.04-.03-.69-.12-1.6-.12-2.54 0-.98.1-1.95.32-2.57l3.99-.54a13.05 13.05 0 0 1 2.63 4.57c.11.35.59.11.5-.16a13.5 13.5 0 0 0-2.67-4.68l1.84-1.84c1.01.45 2.03 1.6 2.75 2.78.4.66.7 1.33.9 1.86.1.26.14.52.18.77l.2-.08c.5-.2.85.02 1.01.42.21.52-.09.9-.47 1.07-7.3 3.24-13.8 2.76-17.06.75-3.33-2.06-4.2-4.46-4.35-5.07-.1-.42.14-.72.5-.83.43-.13.84.03 1.01.44.24-.62.8-1.65 1.29-2.13a5.37 5.37 0 0 1 2.85-1.53zm4.38-1.24c.5-.02 1.02 0 1.52.06 2 .24 3.86 1.1 4.76 2.48l-1.8 1.84-4.12.56-3.7-1.5-.54-2.37a7.93 7.93 0 0 1 3.88-1.07z" /></svg>',speedFast:"",sleepTimer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-7 h-7"><path d="M22.97 16.84h-3.25l3.56-3.26c.07-.05.1-.08.1-.14a.43.4 0 0 0-.37-.56h-4.38a.45.41 0 0 0 0 .82h3.29l-3.6 3.25a.43.4 0 0 0-.09.43.43.4 0 0 0 .4.25h4.34a.43.4 0 0 0 0-.79zm-6.44 1.98h-2.45l2.79-2.49a.43.4 0 0 0 .06-.45.43.4 0 0 0-.4-.26h-3.48a.45.41 0 0 0 0 .82h2.48l-2.79 2.5-.06.14a.31.28 0 0 0 0 .28.43.4 0 0 0 .37.28h3.5a.45.41 0 0 0 0-.82zm2.75 3.9h-1.42l1.73-1.55.1-.14v-.28a.43.4 0 0 0-.44-.29h-2.48a.43.4 0 0 0 0 .8h1.43l-1.74 1.55a.43.4 0 0 0-.09.46.43.4 0 0 0 .4.22h2.48a.43.4 0 0 0 0-.79z" style="stroke-width:.296239"/></svg>',chapters:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5" /></svg>',bibles:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155" /></svg>',books:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" /></svg>',PrevBook:'<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300" viewBox="0 0 23 13"><g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-width="1.5"><path stroke-linejoin="round" d="M22 2.7c0-.9-1-1.4-1.7-1l-7 4a1.1 1.1 0 0 0 0 2l7 4a1.1 1.1 0 0 0 1.7-.9V2.7h0Zm-9.7 0c0-.9-1-1.4-1.7-1l-7.1 4a1.1 1.1 0 0 0 0 2l7 4a1.1 1.1 0 0 0 1.8-.9V2.7h0Z"/><path d="M1.5 1v11"/></g></svg>',PrevChapter:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="1.5" class="w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 16.8c0 .9-1 1.4-1.7 1l-7-4a1.1 1.1 0 0 1 0-2l7-4a1.1 1.1 0 0 1 1.7.9v8.1zm-9.8 0c0 .9-.9 1.4-1.6 1l-7.1-4a1.1 1.1 0 0 1 0-2l7-4a1.1 1.1 0 0 1 1.8.9v8.1z"/></svg>',nextChapter:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="1.5" class="w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8.7c0-.9 1-1.4 1.7-1l7 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.7-.9V8.7zm9.8 0c0-.9.9-1.4 1.6-1l7.1 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.8-.9V8.7z"/></svg>',nextBook:'<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" class="w-7 h-7 hover:text-blue-600 dark:hover:text-blue-300" viewBox="0 0 23 13"><g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-width="1.5"><path stroke-linejoin="round" d="M1 2.7c0-.9 1-1.4 1.7-1l7 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.7-.9V2.7h0Zm9.7 0c0-.9 1-1.4 1.7-1l7.1 4a1.1 1.1 0 0 1 0 2l-7 4a1.1 1.1 0 0 1-1.8-.9V2.7h0Z"/><path d="M21.5 1v11"/></g></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="1.5" class="w-10 h-10 hover:text-blue-400" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5.3 5.7c0-.9.9-1.4 1.6-1L18.5 11a1.1 1.1 0 0 1 0 2L6.9 19.3a1.1 1.1 0 0 1-1.6-1V5.7z"/></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="1.5" class="w-10 h-10 hover:text-blue-600 dark:hover:text-blue-300" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.8 5.3v13.4M8.2 5.3v13.4"/></svg>',volumeIcon:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="size-5" viewBox="0 0 20 20"><path d="M11 4a1 1 0 0 0-2-1L5 7H3a1 1 0 0 0-1 0 7 7 0 0 0 0 3v3h3l4 4a1 1 0 0 0 2-1V4Zm5 1a1 1 0 0 0-1 1 6 6 0 0 1 0 8 1 1 0 0 0 1 1 7 7 0 0 0 0-10Z"/><path d="M14 7a1 1 0 0 0-1 1 3 3 0 0 1 0 4 1 1 0 0 0 1 1 4 4 0 0 0 0-6Z"/></svg>',skipBackward:'<svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7" stroke="currentColor" viewBox="0 0 24 24"><path d="M16 1a2 2 0 0 0-1.4.6l-3 3a2 2 0 0 0 0 2.8l3 3a2 2 0 1 0 2.8-2.8L15.8 6l1.6-1.6A2 2 0 0 0 16 1zm8 0a2 2 0 0 0-1.4.6l-3 3a2 2 0 0 0 0 2.8l3 3a2 2 0 0 0 3.2-2.3A16 16 0 0 1 24 40 16 16 0 0 1 8 24a2 2 0 1 0-4 0A20 20 0 1 0 25.7 4 2 2 0 0 0 24 1zm.8 16c-.7 0-1.3.5-1.4 1.2l-.9 4.5a1.5 1.5 0 0 0 1.5 1.8h3.3c1 0 1.7.8 1.7 1.8 0 1.4-1 1.7-2 1.7-1.6 0-2.5-.6-2.6-.7a1.5 1.5 0 0 0-1.8 2.4c.1.1 1.7 1.3 4.4 1.3 3 0 5-2 5-4.8 0-2.6-2.1-4.7-4.8-4.7h-1.4l.3-1.5H30a1.5 1.5 0 1 0 0-3h-5.2zm-6.4 0H18l-3 1a1.5 1.5 0 0 0 1 3l1-.4v8.9a1.5 1.5 0 1 0 3 0v-11a1.5 1.5 0 0 0-1.6-1.5z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-dashoffset:0;stroke-linejoin:miter;stroke-miterlimit:4;fill-rule:nonzero;opacity:1" transform="matrix(.5 0 0 .5 1 1.7)"/></svg>',skipForward:'<svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7" stroke="currentColor" viewBox="0 0 24 24"><path d="M24 .5A1.5 1.5 0 0 0 23 3l1 1a20 20 0 1 0 21 19.4 1.5 1.5 0 1 0-3 0A17 17 0 1 1 23.8 7.2l-.9.8a1.5 1.5 0 1 0 2.2 2.2l3.5-3.5c.5-.6.5-1.6 0-2.2L25 1c-.3-.3-.7-.4-1.1-.4zm7 0A1.5 1.5 0 0 0 30 3l2.4 2.4-2.5 2.4a1.5 1.5 0 1 0 2.2 2.2l3.5-3.5c.5-.6.5-1.6 0-2.2L32 1c-.3-.3-.7-.4-1.1-.4zM19.6 17h-.3l-3 1a1.3 1.3 0 0 0 .8 2.4l1.4-.4v9.8a1.3 1.3 0 1 0 2.5 0V18.1a1.2 1.2 0 0 0-1.4-1.2zm6.1 0c-.6 0-1.1.4-1.2 1l-.8 4.8a1.3 1.3 0 0 0 1.2 1.5h3.5a2 2 0 0 1 2 2c0 .8-.1 1.2-.5 1.6a3 3 0 0 1-1.8.5c-1.7 0-3-.8-3-.8a1.3 1.3 0 1 0-1.5 2c.5.3 2 1.3 4.5 1.3a5 5 0 0 0 3.5-1.2 4.6 4.6 0 0 0-3.2-8h-2l.4-2.2h4.5a1.3 1.3 0 1 0 0-2.5h-5.6z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-dashoffset:0;stroke-linejoin:miter;stroke-miterlimit:4;fill-rule:nonzero" transform="matrix(.5 0 0 .5 .5 1.8)"/></svg>'},n={},o="https://content.dbs.org";async function s(e="all",t="all"){const n=await fetch("https://arc.dbs.org/api/bibles").then((e=>e.json()));let s=await fetch(`${o}/bibles/audio-new/index.txt`).then((e=>e.text())),a=[];return s=s.split("\n"),s.forEach((e=>{let t=e.split("_")[0];t.includes("-")&&(t=e.split("-")[0]);for(let o=0;o<n.length;o++){const s=n[o];if(t===s.id){a.push({id:e,abbr:s.id,iso:s.iso,ln:s.ln,tt:s.tt,tv:s.tv,ci:s.ci,cn:s.cn,tp:"hark"});break}}})),"all"!==e&&(a=a.filter((t=>t.ci===e))),"all"!==t&&(a=a.filter((e=>e.id.includes(t)))),a}async function a(e){let t=`https://4.dbt.io/api/bibles?v=4&key=${key}&media=audio`;e&&(t+="&country="+e),bibles=await fetch(t).then((function(e){return e.json()}));let n=bibles.meta.pagination.last_page,o=1;for(;o>=n;)o++,results=await fetch(t+"page="+o).then((function(e){return e.json()})),bibles.data.concat(results.data);return bibles}async function r(e,t){e.query="";const n=await async function(e){const t={"01":"GEN","02":"EXO","03":"LEV","04":"NUM","05":"DEU","06":"JOS","07":"JDG","08":"RUT","09":"1SA",10:"2SA",11:"1KI",12:"2KI",13:"1CH",14:"2CH",15:"EZR",16:"NEH",17:"EST",18:"JOB",19:"PSA",20:"PRO",21:"ECC",22:"SNG",23:"ISA",24:"JER",25:"LAM",26:"EZK",27:"DAN",28:"HOS",29:"JOL",30:"AMO",31:"OBA",32:"JON",33:"MIC",34:"NAM",35:"HAB",36:"ZEP",37:"HAG",38:"ZEC",39:"MAL",40:"MAT",41:"MRK",42:"LUK",43:"JHN",44:"ACT",45:"ROM",46:"1CO",47:"2CO",48:"GAL",49:"EPH",50:"PHP",51:"COL",52:"1TH",53:"2TH",54:"1TI",55:"2TI",56:"TIT",57:"PHM",58:"HEB",59:"JAS",60:"1PE",61:"2PE",62:"1JN",63:"2JN",64:"3JN",65:"JUD",66:"REV"},n=await fetch(`${o}/bibles/audio-new/${e}/index.txt`),s=await n.text(),a=new Map,r=/^\.\/\w+\/(\d+)_(\w+)_(\d+)\.mp3$/;s.split("\n").sort().forEach((e=>{const n=e.match(r);if(n){const[,e,o,s]=n,r=parseInt(s,10),l=t[e];a.has(l)||a.set(l,{name:o,book_number:e,book_id:l,chapters:[]}),a.get(l).chapters.push(r)}}));let l=[];const i=await fetch(`${o}/bibles/audio-new/${e}/timingfiles/_index.txt`);i.ok?l=(await i.text()).split("\n"):console.warn("timing files could not be found");for(const e of a.values())e.chapters.sort(((e,t)=>e-t));return{bible_id:e.split("_")[0],bible_folder:e,timestamps:l,data:Array.from(a.values())}}(t);e.currentBooks=n;const s=e.bibles.find((t=>t.abbr===e.currentBooks.bible_id));e.currentBible=s;new URL(window.location).searchParams.set("id",e.currentBible.id),await async function(e,t,n){e.currentBook=t,await l(e,t,n)}(e,n.data[0],1)}async function l(e,t,n){e.currentBook=t;let o=n;if(t?.chapters?.includes(n)||(o=1),"hark"===e.currentType){const n="19"===t.book_number?3:2;e.currentChapter={path:`https://content.dbs.org/bibles/audio-new/${e.currentBooks.bible_folder}/${t.book_number}_${t.name}_${o.toString().padStart(n,"0")}.mp3`,title:`${t.name} ${o}`,number:o,book_id:t.book_id,timestamps:[]},e.audio.src=e.currentChapter.path;const s=new URL(window.location);if(s.searchParams.set("book",t.book_id),s.searchParams.set("c",o),Array.isArray(e.currentBooks.timestamps)&&e.currentBooks.timestamps.length>0){const t=/Verse (\d+)	(\d+:\d+:\d+\.\d+)/gm;let n,s=await fetch(`https://content.dbs.org/bibles/audio-new/${e.currentBooks.bible_folder}/timingfiles/${e.currentBook.book_id}_${o.toString().padStart(3,"0")}.txt`).then((function(e){return e.text()})).catch((e=>{console.error("Error:",e)})),a=[];for(;null!==(n=t.exec(s));){n[1];const e=n[2];a.push(e)}e.currentChapter.timestamps=a}}}function i(e,t={}){const n=document.createElement(e);for(const[e,o]of Object.entries(t))"style"===e&&"object"==typeof o?Object.assign(n.style,o):n[e]=o;return n}function c(e){const t=e%60|0;return`${e/60|0}:${t<10?"0":""}${t}`}const d=e=>{const[t,n,o]=e.split(":");return 3600*parseInt(t,10)+60*parseInt(n,10)+parseFloat(o)};function u(e){e.chapterListContainer.innerHTML="",e.bibleListContainer.style.display="none",e.bookListContainer.style.display="none",e.chapterListContainer.style.display="block";const t=document.createDocumentFragment();if(e.currentBook.chapters.forEach((n=>{const o=i("button",{className:`${e.class.chapterButton} ${e.currentChapter.number==n?" "+e.class.chapterButtonActive:""}`,ariaLabel:`Play Chapter ${n}`,textContent:n,onclick:()=>p(e,e.currentBook,n)});t.appendChild(o)})),e.chapterListContainer.appendChild(t),e.currentBook?.book_id){const t=e.art[e.currentBook.book_id]?.[0];if(!t)return void console.warn(`No art found for book ID: ${e.currentBook.book_id}`);const n=document.createElement("img");n.src=`./img/chars/${t.file}`,n.className=t.class,e.chapterListContainer.appendChild(n)}}function p(e,t,n){l(e,t,n),e.chapterSelect.value=n,e.audio.play();document.querySelector(".icon-play").innerHTML=e.audio.paused?e.icons.play:e.icons.pause,u(e)}function b(e,t,n){const o=e.toLowerCase(),s=Math.max(.5,.9-(o.length>10?.15:.05*o.length));return t.reduce(((e,t)=>{let a=0,r=0;return n.forEach((e=>{if(t[e]){const n=t[e].toString().toLowerCase(),l=function(e,t){if(e===t)return 0;const n=Array.from({length:e.length+1},((e,t)=>t));for(let o=1;o<=t.length;o++){let s=n[0];n[0]=o;for(let a=1;a<=e.length;a++){const r=n[a];n[a]=Math.min(n[a]+1,n[a-1]+1,s+(e[a-1]!==t[o-1])),s=r}}return n[e.length]}(o,n)/Math.max(o.length,n.length);l<=s&&(a+=l,r++)}})),r>0&&e.push({item:t,score:a/r}),e}),[]).sort(((e,t)=>e.score-t.score))}function m(e){e.bibleListContainer.innerHTML="";const t=i("div",{className:e.class.searchWrapper}),n=i("input",{type:"search",placeholder:"Filter Audio Bibles",autocomplete:"off",className:e.class.searchInput,oninput:()=>{e.query=n.value,e.results=b(e.query,e.bibles,["tt","tv","ln"]),h(e)}});n.setAttribute("aria-label","Search"),t.appendChild(n),e.bibleListContainer.appendChild(t);const o=i("div",{className:e.class.bibleListGrid});e.bibleListGrid=o,e.bibleListContainer.appendChild(o),h(e)}function h(e){const t=e.bibleListGrid;t.innerHTML="";const n=e.query?e.results.map((e=>e.item)):e.bibles,o=document.createDocumentFragment();n.forEach((t=>o.appendChild(function(e,t){const n=i("button",{className:e.class.bibleButton.wrapper,onclick:()=>k(e,t)});n.dataset.testId=t.id,n.setAttribute("aria-label",t.tv??t.tt);const o=i("div",{className:e.class.bibleButton.languageWrap});o.appendChild(i("h2",{className:e.class.bibleButton.language,textContent:t.ln})),o.appendChild(i("small",{className:e.class.bibleButton.iso,textContent:t.iso}));const s=i("div",{className:e.class.bibleButton.titleWrap});if(s.appendChild(i("h4",{className:e.class.bibleButton.title,textContent:t.tt})),t.tt!==t.tv&&t.tv){const n=i("p",{className:e.class.bibleButton.vernacular,textContent:t.tv});s.appendChild(n)}return n.appendChild(o),n.appendChild(s),n}(e,t)))),t.appendChild(o)}async function k(e,t){if("hark"===t.tp){e.view="book",e.currentBible=t,await r(e,t.id),v(e,t),e.render();const n=new URL(window.location);n.searchParams.set("bibleId",t.id),window.history.replaceState({},"",n)}else t.tp}function v(e,t){e.bibleBlock.innerHTML="",e.bibleBlock.className=e.class.bibleBlock;const n=i("div",{className:e.class.bibleBlockInfoWrap}),o=i("div",{className:e.class.bibleBlockLanguageGroup});o.appendChild(i("div",{className:e.class.bibleBlockIso,innerText:t.iso})),o.appendChild(i("div",{innerText:t.cn})),n.append(o);const s=i("div",{className:e.class.bibleBlockTitleGroup});s.appendChild(i("div",{className:e.class.bibleBlockTitle,innerText:t.tt})),t.tv&&t.tv!==t.tt&&s.appendChild(i("div",{className:e.class.bibleBlockVernacular,innerText:t.tv})),n.appendChild(s);const a=i("div",{className:e.class.selectBookChapterWrap}),r=i("select",{className:e.class.selectBook});e.currentBooks&&e.currentBooks.data&&e.currentBooks.data.forEach((t=>{const n=i("option",{value:t.book_id,innerText:t.name,selected:t.book_id===e.currentBook.book_id});r.appendChild(n)})),r.addEventListener("change",(t=>{x(e,t.target.value)}));const l=i("select",{className:e.class.selectChapter});if(e.currentBook&&e.currentBook.chapters&&e.currentBook.chapters.forEach((t=>{const n=i("option",{value:t,innerText:t,selected:t==e.currentChapter.number});l.appendChild(n)})),l.addEventListener("change",(t=>p(e,e.currentBook,parseInt(t.target.value)))),a.appendChild(r),a.appendChild(l),e.currentChapter&&e.currentChapter.timestamps&&Array.isArray(e.currentChapter.timestamps)){const t=i("select",{className:e.class.selectVerse});e.currentChapter.timestamps.forEach(((e,n)=>{const o=n+1,s=i("option",{value:o,innerText:`${o}`});t.appendChild(s)})),t.addEventListener("change",(t=>{const n=parseInt(t.target.value)-1;if(e.currentChapter.timestamps&&e.currentChapter.timestamps[n]){const t=e.currentChapter.timestamps[n],o=d(t);e.audio.currentTime=o}}));const n=i("div",{innerText:":",className:e.class.selectVerseSeparator});a.appendChild(n),a.appendChild(t),e.verseSelect=t}if(e.verseSelect){let t=null;e.audio.addEventListener("timeupdate",(()=>{const n=e.audio.currentTime,o=e.currentChapter.timestamps;let s=-1;for(let e=0;e<o.length&&n>=d(o[e]);e++)s=e;-1!==s&&s!==t&&(t=s,e.verseSelect.value=s+1)}))}e.bookSelect=r,e.chapterSelect=l;const c=i("div",{className:e.class.bibleBlockButtonGroup});c.appendChild(i("button",{innerHTML:e.icons.bibles,className:e.class.bibleListNavButton,onclick:()=>{e.view="bible",e.render()}})),"chapter"===e.view&&c.appendChild(i("button",{innerHTML:e.icons.books,className:e.class.bookListNavButton,onclick:()=>{e.view="book",f(e),e.render()}})),"book"===e.view&&c.appendChild(i("button",{innerHTML:e.icons.chapters,className:e.class.chapterListNavButton,onclick:()=>{e.view="chapter",u(e),e.render()}})),n.append(c),e.bibleBlock.append(n),e.bibleBlock.appendChild(a),f(e)}function x(e,t,n=1){const o=e.currentBooks.data.find((e=>e.book_id===t));if(!o)return;l(o,n);const s=new URL(window.location);s.searchParams.set("bookId",o.book_id),window.history.replaceState({},"",s),e.query="",e.chapterListContainer.style.display="block",e.view="chapter",e.currentBook=o,u(e),v(e,e.currentBible)}function w(e,t){const n=i("button",{className:`${t.book_id} ${e.class.bookListButton} ${e.currentBook.book_id==t.book_id?e.class.bookListButtonActive:""}`,ariaLabel:t.name,onclick:()=>x(e,t.book_id)});n.dataset.bookId=t.book_id;const o=i("div");return o.append(i("h2",{className:e.class.bookListTitle,textContent:t.name}),i("h3",{className:e.class.bookListId,textContent:t.book_id})),n.appendChild(o),n}function f(e){const t=e.bookListGrid;t.innerHTML="",e.resultsBooks&&e.resultsBooks.length&&""!==e.query?e.resultsBooks.forEach((n=>{t.appendChild(w(e,n.item))})):e.currentBooks&&""===e.query&&e.currentBooks.data&&e.currentBooks.data.forEach((n=>{t.appendChild(w(e,n))}))}function g(e){const t=document.createDocumentFragment(),n=i("div",{className:e.class.controlsContainer}),o=i("div",{className:e.class.navRow}),s=i("button",{className:e.class.prevBookButton,innerHTML:e.icons.PrevBook,onclick:()=>{const t=e.currentBooks.data.findIndex((t=>t.book_id===e.currentBook.book_id));e.currentBooks.data[t-1]&&(x(e,e.currentBooks.data[t-1].book_id),p(e,e.currentBooks.data[t-1],1))}}),a=i("button",{className:e.class.prevChapterButton,innerHTML:e.icons.PrevChapter,onclick:()=>async function(e){if(e.currentChapter.number-1>1)p(e,e.currentBook,e.currentChapter.number-1);else{const t=e.currentBooks.data.findIndex((t=>t.book_id===e.currentBook.book_id));e.currentBooks.data[t-1]&&(x(e,e.currentBooks.data[t-1].book_id),p(e,e.currentBooks.data[t-1],1))}}(e)}),r=C(e,"back"),l=i("span",{className:e.class.playPauseIcon,innerHTML:e.icons.play}),u=i("button",{className:e.class.playPauseButton,onclick:()=>e.audio.paused?e.audio.play():e.audio.pause()});u.appendChild(l),e.audio.addEventListener("play",(()=>{l.innerHTML=e.icons.pause})),e.audio.addEventListener("pause",(()=>{l.innerHTML=e.icons.play}));const b=C(e,"forward"),m=i("button",{className:e.class.nextChapterButton,innerHTML:e.icons.nextChapter,onclick:()=>async function(e){if(e.currentChapter.number<e.currentBook.chapters.length-1)p(e,e.currentBook,e.currentChapter.number+1);else{const t=e.currentBooks.data.findIndex((t=>t.book_id===e.currentBook.book_id));e.currentBooks.data[t+1]&&(x(e,e.currentBooks.data[t+1].book_id),p(e,e.currentBooks.data[t+1],1))}}(e)}),h=i("button",{className:e.class.nextBookButton,innerHTML:e.icons.nextBook,onclick:()=>{const t=e.currentBooks.data.findIndex((t=>t.book_id===e.currentBook.book_id));e.currentBooks.data[t+1]&&(x(e,e.currentBooks.data[t+1].book_id),p(e,e.currentBooks.data[t+1],1))}});o.append(s,a,r,u,b,m,h),n.append(function(e){function t(e,t,n){const o=n.getBoundingClientRect(),s=(e.clientX-o.left)/o.width;t.audio.currentTime=Math.max(0,Math.min(s,1))*t.audio.duration}const n=i("div",{className:e.class?.progress?.container}),o=i("div",{id:"currentTime",className:e.class?.progress?.currentTimeDisplay,textContent:c(e.audio.currentTime)}),s=i("div",{id:"progress-wrapper",className:e.class?.progress?.wrapper}),a=i("div",{id:"progress-bar",className:e.class?.progress?.barInner,style:{width:"0%"}}),r=i("div",{id:"timestamps-wrapper",className:e.class?.progress?.timestamps}),l=i("div",{className:e.class?.progress?.circleTip,style:{left:"0%"}});s.append(a,l);const u=n=>{e.isDragging&&t(n,e,s)},p=()=>{e.isDragging&&(e.isDragging=!1,document.body.style.userSelect="",document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",p))};s.addEventListener("mousedown",(()=>{e.isDragging=!0,document.body.style.userSelect="none",document.addEventListener("mousemove",u),document.addEventListener("mouseup",p)})),s.addEventListener("click",(n=>{t(n,e,s)}));const b=i("div",{className:e.class?.progress?.durationDisplay,textContent:c(e.audio.duration||0)});return e.audio.addEventListener("timeupdate",(()=>{const t=e.audio.currentTime/e.audio.duration*100;a.style.width=`${t}%`,l.style.left=`calc(${t}% - 3px)`,o.textContent=c(e.audio.currentTime)})),e.audio.addEventListener("loadedmetadata",(()=>{r.innerHTML="",b.textContent=c(e.audio.duration),e.currentChapter.timestamps&&Array.isArray(e.currentChapter.timestamps)&&e.currentChapter.timestamps.forEach((t=>{const n=d(t);if(n<=e.audio.duration&&n>=0){const t=n/e.audio.duration*100,o=i("div",{className:`progress-tick ${e?.class?.progress?.tick}`,style:{left:`${t}%`}});r.appendChild(o)}}))})),s.append(r),n.append(o,s,b),n}(e)),n.append(function(e){const t=e.options?.playbackRate?.min??.5,n=e.options?.playbackRate?.max??2.25,o=e.options?.playbackRate?.step??.25,s=(t,n)=>{t.className=`${t.baseClassName} ${n?e.class.playbackRate?.disabled:""}`},a=o=>{e.audio.playbackRate=Math.min(n,Math.max(t,e.audio.playbackRate+o)),c.textContent=e.audio.playbackRate.toFixed(2),s(l,e.audio.playbackRate===t),s(d,e.audio.playbackRate===n)},r=i("div",{className:e.class.playbackRate?.wrapper}),l=i("button",{baseClassName:e.class.playbackRate?.decrease,className:e.class.playbackRate?.decrease,textContent:"-",onclick:()=>a(-o)}),c=i("span",{className:e.class.playbackRate?.display,textContent:e.audio.playbackRate.toFixed(2)}),d=i("button",{baseClassName:e.class.playbackRate?.increase,className:e.class.playbackRate?.increase,textContent:"+",onclick:()=>a(o)}),u=i("div",{className:e.class.decrementIcon,innerHTML:e.icons.speedSlow}),p=i("div",{className:e.class.incrementIcon,innerHTML:e.icons.speedFast});return r.append(u,l,c,p,d),r}(e)),n.append(o);const{volumeRow:k,sleepTimerButton:v}=function(e){const t=i("div",{className:e.class.volumeRow}),n=i("input",{type:"range",min:"0",max:"1",step:"0.01",className:e.class.volumeInput,id:"volume-control",value:e.audio.volume,"aria-label":"Volume Control"});n.addEventListener("input",(()=>{e.audio.volume=parseFloat(n.value)}));const o=i("label",{htmlFor:"volume-control",className:e.class.volumeLabel,innerHTML:e.icons.volumeIcon});o.appendChild(n),t.appendChild(o);const s=i("button",{className:e.class.sleepTimerButton,innerHTML:e.icons.sleepTimer,"aria-label":"Sleep Timer"});let a=null,r=0;const l=6e4,d=i("span",{className:e.class.sleepTimerDuration,textContent:c(60),"aria-live":"polite"});function u(e){const t=r/l,n=2*Math.PI*9;d.textContent=c(e/1e3);const o=s.querySelector("svg circle:nth-child(2)");o&&o.setAttribute("stroke-dashoffset",(1-t)*n)}return s.appendChild(d),s.addEventListener("click",(()=>{a?(clearInterval(a),a=null,n.value=1,e.audio.volume=1,r=0,u(l)):(r=0,a=setInterval((()=>{r+=1e3;const t=l-r,o=t/l;n.value=Math.max(0,o),e.audio.volume=parseFloat(n.value),u(t),r>=l&&(clearInterval(a),a=null,e.audio.pause(),u(0))}),1e3))})),{volumeRow:t,sleepTimerButton:s}}(e);return n.appendChild(k),k.appendChild(v),k.appendChild(v),n.appendChild(k),t.appendChild(n),t}function C(e,t){const n="forward"===t,o=n?e.icons.skipForward:e.icons.skipBackward,s=n?15:-15;return i("button",{className:n?e.class.skipForwardButton:e.class.skipBackButton,innerHTML:o,onclick:()=>{e.audio.currentTime+=s,e.audio.currentTime<0&&(e.audio.currentTime=0),e.audio.currentTime>e.audio.duration&&(e.audio.currentTime=e.audio.duration)}})}class y{constructor(o,s){this.container=document.getElementById(o),this.providers=s.providers??["hark"],this.bibles=[],this.currentBible={},this.currentBooks=[],this.currentBook={},this.currentChapter={number:0},this.audio=document.createElement("audio"),this.currentType="hark",this.isDragging=!1,this.class=((t={})=>{const n={...e};for(const e of Object.keys(t))e.startsWith("_")?n[e.substring(1)]=t[e]:n[e]=t[e];return n})(s.classes),this.icons=((e={})=>{const n={...t};for(const t of Object.keys(e))n[t]=e[t];return n})(s.icons),this.art=((e={})=>{const t={...n};for(const n of Object.keys(e))t[n]=e[n];return t})(s.art),this.results=[],this.query="",this.view="bible",this.idPrefix=s?.idPrefix??"audio-player",this.views={bible:{player:"none",bibleListContainer:"block",bookListContainer:"none",chapterListContainer:"none"},book:{player:"block",bibleListContainer:"none",bookListContainer:"block",chapterListContainer:"none"},chapter:{player:"block",bibleListContainer:"none",bookListContainer:"none",chapterListContainer:"block"}}}static async create(e,t){const n=new y(e,t);await async function(e){const t={hark:s,dbp:a};for(const n of e.providers)t[n]&&(e.bibles=e.bibles.concat(await t[n]()))}(n),n.container.innerHTML="";const o=n.idPrefix,r=i("div",{id:`${o}-player-container`,className:n.class.playerContainer});return n.bibleListContainer=i("div",{id:`${o}-bible-list-container`,className:n.class.bibleListContainer}),n.bookListContainer=i("div",{id:`${o}-book-list-container`,className:n.class.bookListContainer}),n.chapterListContainer=i("div",{id:`${o}-chapter-list-container`,className:n.class.chapterListContainer}),n.bibleBlock=i("div",{id:`${o}-bible-block`,className:n.class.bibleBlock}),n.player=function(e){const t=i("div",{id:"media-player-wrap",className:e.class.mediaPlayerWrap}),n=g(e);return t.appendChild(n),t}(n),r.append(n.bibleBlock,n.audio,n.player),function(e){const t=i("input",{type:"search",placeholder:e.i18n?.filter_books??"Filter Books",className:e.class.searchInput,ariaLabel:"search",autocomplete:"off",oninput:()=>{e.query=t.value,console.log(t.value,e.currentBooks.data),e.resultsBooks=b(e.query,e.currentBooks.data,["name"]),f(e)}}),n=i("div",{className:e.class.searchInputContainer});n.appendChild(t),e.bookListContainer.appendChild(n),e.bookListContainer.appendChild(e.bookListGrid=i("div",{className:e.class.bookListGrid})),f(e)}(n),r.append(n.bookListContainer,n.chapterListContainer,n.bibleListContainer),n.container.appendChild(r),this.setDefaultView(n),n}static async setDefaultView(e){const t=new URL(window.location);t.searchParams.get("bibleId")&&(await k(e,e.bibles.find((e=>e.id==t.searchParams.get("bibleId")))),e.view="book"),t.searchParams.get("bookId")&&(await x(e,t.searchParams.get("bookId")),e.view="chapter"),"bible"===e.view&&m(e),B(e)}render(){"bible"===this.view?m(this):"book"===this.view?f(this):"chapter"===this.view&&chapterList(this),B(this)}setData(e){Object.assign(this,e)}}function B(e){const t=e.views[e.view]||views.bible;e.player.style.display=t.player,e.bibleListContainer.style.display=t.bibleListContainer,e.bookListContainer.style.display=t.bookListContainer,e.chapterListContainer.style.display=t.chapterListContainer}export{y as default};
//# sourceMappingURL=AudioPlayer.min.js.map
