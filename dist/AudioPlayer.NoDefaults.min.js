const e=(e={})=>{const t={...{}};for(const n of Object.keys(e)){if(n.startsWith("_")){t[n.substring(1)]=e[n]}else{t[n]=e[n]}}return t};const t=(e={})=>{const t={...{}};for(const n of Object.keys(e)){t[n]=e[n]}return t};const n=(e={})=>{const t={...{}};for(const n of Object.keys(e)){t[n]=e[n]}return t};const s="https://content.dbs.org";async function a(e){const t={hark:o,dbp:c};for(const n of e.providers){if(t[n]){e.bibles=e.bibles.concat(await t[n]())}}for(let t=0;t<e.bibles.length;t++){let n=e.titles[e.bibles[t].id];if(n){e.bibles[t].tt=n.tt;e.bibles[t].tv=n.tv}}}async function o(e="all",t="all"){const n=await fetch(`${s}/bibles/audio-new/index.json`).then((e=>e.json()));const a=n.map((e=>({...e,tp:"hark",dl:e.dl?`${s}/bibles/audio-new/${e.id}.zip`:""})));if(e!=="all"){a=a.filter((t=>t.ci===e))}if(t!=="all"){a=a.filter((e=>e.id.includes(t)))}return a}async function i(e){const t={"01":"GEN","02":"EXO","03":"LEV","04":"NUM","05":"DEU","06":"JOS","07":"JDG","08":"RUT","09":"1SA",10:"2SA",11:"1KI",12:"2KI",13:"1CH",14:"2CH",15:"EZR",16:"NEH",17:"EST",18:"JOB",19:"PSA",20:"PRO",21:"ECC",22:"SNG",23:"ISA",24:"JER",25:"LAM",26:"EZK",27:"DAN",28:"HOS",29:"JOL",30:"AMO",31:"OBA",32:"JON",33:"MIC",34:"NAM",35:"HAB",36:"ZEP",37:"HAG",38:"ZEC",39:"MAL",40:"MAT",41:"MRK",42:"LUK",43:"JHN",44:"ACT",45:"ROM",46:"1CO",47:"2CO",48:"GAL",49:"EPH",50:"PHP",51:"COL",52:"1TH",53:"2TH",54:"1TI",55:"2TI",56:"TIT",57:"PHM",58:"HEB",59:"JAS",60:"1PE",61:"2PE",62:"1JN",63:"2JN",64:"3JN",65:"JUD",66:"REV"};const n=await fetch(`${s}/bibles/audio-new/${e}/index.txt`);const a=await n.text();const o=new Map;const i=/^(\d+)_(\w+)_(\d+)\.mp3$/;a.split("\n").sort().forEach((e=>{const n=e.match(i);if(n){const[,e,s,a]=n;const i=parseInt(a,10);const c=t[e];if(!o.has(c)){o.set(c,{name:s,book_number:e,book_id:c,chapters:[]})}o.get(c).chapters.push(i)}}));let c=[];const r=await fetch(`${s}/bibles/audio-new/${e}/timingfiles/_index.txt`);if(r.ok){c=(await r.text()).split("\n")}else{console.warn("timing files could not be found")}for(const e of o.values()){e.chapters.sort(((e,t)=>e-t))}return{bible_id:e,bible_folder:e,timestamps:c,data:Array.from(o.values())}}async function c(e){let t=`https://4.dbt.io/api/bibles?v=4&key=${key}&media=audio`;if(e){t+="&country="+e}bibles=await fetch(t).then((function(e){return e.json()}));let n=bibles.meta.pagination.last_page;let s=1;while(s>=n){s++;results=await fetch(t+"page="+s).then((function(e){return e.json()}));bibles.data.concat(results.data)}return bibles}async function r(e,t){e.query="";const n=await i(t);e.currentBooks=n;const s=e.bibles.find((t=>t.id===e.currentBooks.bible_id));e.currentBible=s;const a=new URL(window.location);a.searchParams.set("id",e.currentBible.id);await l(e,n.data[0],1)}async function l(e,t,n){e.currentBook=t;await d(e,t,n)}async function d(e,t,n){e.currentBook=t;let s=n;if(!t?.chapters?.includes(n)){s=1}if(e.currentType==="hark"){const n=t.book_number==="19"?3:2;e.currentChapter={path:`https://content.dbs.org/bibles/audio-new/${e.currentBooks.bible_folder}/${t.book_number}_${t.name}_${s.toString().padStart(n,"0")}.mp3`,title:`${t.name} ${s}`,number:s,book_id:t.book_id,timestamps:[]};e.audio.src=e.currentChapter.path;const a=new URL(window.location);a.searchParams.set("book",t.book_id);a.searchParams.set("c",s);if(Array.isArray(e.currentBooks.timestamps)&&e.currentBooks.timestamps.length>0){const t=/Verse (\d+)	(\d+:\d+:\d+\.\d+)/gm;let n=await fetch(`https://content.dbs.org/bibles/audio-new/${e.currentBooks.bible_folder}/timingfiles/${e.currentBook.book_id}_${s.toString().padStart(3,"0")}.txt`).then((function(e){return e.text()})).catch((e=>{console.error("Error:",e)}));let a=[];let o;while((o=t.exec(n))!==null){o[1];const e=o[2];a.push(e)}e.currentChapter.timestamps=a}}}function u(e,t={}){const n=document.createElement(e);for(const[e,s]of Object.entries(t)){if(e==="style"&&typeof s==="object"){Object.assign(n.style,s)}else{n[e]=s}}return n}function p(e){const t=e/60|0;const n=e%60|0;return`${t}:${n<10?"0":""}${n}`}const b=e=>{const[t,n,s]=e.split(":");return parseInt(t,10)*3600+parseInt(n,10)*60+parseFloat(s)};HTMLDialogElement.prototype.triggerShow=HTMLDialogElement.prototype.showModal;HTMLDialogElement.prototype.showModal=function(){this.triggerShow();this.onclick=e=>{let t=this.getBoundingClientRect();if(e.clientY<t.top||e.clientY>t.bottom)return this.close();if(e.clientX<t.left||e.clientX>t.right)return this.close()}};function h(e){const t=e.options?.playbackRate?.min??.5;const n=e.options?.playbackRate?.max??2.25;const s=e.options?.playbackRate?.step??.25;const a=(t,n)=>{t.className=`${t.baseClassName} ${n?e.class.playbackRate?.disabled:""}`};const o=s=>{e.audio.playbackRate=Math.min(n,Math.max(t,e.audio.playbackRate+s));r.textContent=e.audio.playbackRate.toFixed(2);a(c,e.audio.playbackRate===t);a(l,e.audio.playbackRate===n)};const i=u("div",{className:e.class.playbackRate?.wrapper});const c=u("button",{baseClassName:e.class.playbackRate?.decrease,className:e.class.playbackRate?.decrease,textContent:"-",onclick:()=>o(-s)});const r=u("span",{className:e.class.playbackRate?.display,textContent:e.audio.playbackRate.toFixed(2)});const l=u("button",{baseClassName:e.class.playbackRate?.increase,className:e.class.playbackRate?.increase,textContent:"+",onclick:()=>o(s)});i.append(c,r,l);return i}function m(e){const t=u("div",{className:e.class.volumeRow});const n=u("input",{type:"range",min:"0",max:"1",step:"0.01",className:e.class.volumeInput,id:"volume-control",value:e.audio.volume,"aria-label":"Volume Control"});n.addEventListener("input",(()=>{e.audio.volume=parseFloat(n.value)}));const s=u("label",{htmlFor:"volume-control",className:e.class.volumeLabel,innerHTML:e.icons.volumeIcon});s.appendChild(n);t.appendChild(s);const a=k(e,n);t.appendChild(a);return t}function k(e,t){const n=u("button",{className:e.class.sleepTimerButton,innerHTML:e.icons.sleepTimer,"aria-label":"Sleep Timer"});let s=null;let a=0;const o=1*60*1e3;const i=u("span",{className:e.class.sleepTimerDuration,textContent:p(o/1e3),"aria-live":"polite"});n.appendChild(i);n.addEventListener("click",(()=>{if(s){clearInterval(s);s=null;t.value=1;e.audio.volume=1;a=0;c(o)}else{a=0;s=setInterval((()=>{a+=1e3;const n=o-a;const i=n/o;t.value=Math.max(0,i);e.audio.volume=parseFloat(t.value);c(n);if(a>=o){clearInterval(s);s=null;e.audio.pause();c(0)}}),1e3)}}));function c(e){const t=a/o;const s=2*Math.PI*9;i.textContent=p(e/1e3);const c=n.querySelector("svg circle:nth-child(2)");if(c){c.setAttribute("stroke-dashoffset",(1-t)*s)}}return n}function f(e){let t=u("div",{id:`${e.idPrefix}-bible-block`,className:e.class.bibleBlockButtonGroup});const n=[{condition:true,innerHTML:e.icons.bibles,className:e.class.bibleListNavButton,onclick:()=>{e.view="bible";e.render()}},{condition:e.view==="book",innerHTML:e.icons.books,className:e.class.bookListNavButton,onclick:()=>{e.view="chapter";e.render()}},{condition:e.view==="chapter",innerHTML:e.icons.chapters,className:e.class.chapterListNavButton,onclick:()=>{e.view="book";e.render()}}];n.forEach((({condition:e,innerHTML:n,className:s,onclick:a})=>{if(e){t.appendChild(u("button",{innerHTML:n,className:s,onclick:a}))}}));return t}function v(e,t){e.bibleBlock.innerHTML="";e.bibleBlock.className=e.class.bibleBlock;const n=C(e,t);const s=u("div",{className:e.class.selectBookChapterWrap});s.append(w(e),B(e));N(e,s);n.append(f(e));e.bibleBlock.append(n,s);y(e)}function C(e,t){const n=u("div",{className:e.class.bibleBlockInfoWrap});const s=u("div",{className:e.class.bibleBlockLanguageGroup});s.append(u("div",{className:e.class.bibleBlockIso,innerText:t.iso}),u("div",{innerText:t.cn}));n.append(s);const a=u("div",{className:e.class.bibleBlockTitleGroup});a.appendChild(u("div",{className:e.class.bibleBlockTitle,innerText:t.tt}));if(t.tv&&t.tv!==t.tt){a.appendChild(u("div",{className:e.class.bibleBlockVernacular,innerText:t.tv}))}n.appendChild(a);return n}function y(e){const t=e.bookListGrid;t.innerHTML="";if(e.resultsBooks&&e.resultsBooks.length&&e.query!==""){e.resultsBooks.forEach((n=>{t.appendChild(L(e,n.item))}))}else if(e.currentBooks&&e.query===""){if(e.currentBooks["data"]){e.currentBooks["data"].forEach((n=>{t.appendChild(L(e,n))}))}}}function L(e,t){const n=u("button",{className:`${t.book_id} ${e.class.bookListButton} ${e.currentBook.book_id==t.book_id?e.class.bookListButtonActive:""}`,ariaLabel:t.name,onclick:()=>g(e,t.book_id)});n.dataset.bookId=t.book_id;const s=u("div");s.append(u("h2",{className:e.class.bookListTitle,textContent:t.name}),u("h3",{className:e.class.bookListId,textContent:t.book_id}));n.appendChild(s);return n}function g(e,t,n=1){const s=e.currentBooks.data.find((e=>e.book_id===t));if(!s)return;d(s,n);const a=new URL(window.location);a.searchParams.set("bookId",s.book_id);window.history.replaceState({},"",a);e.query="";e.chapterListContainer.style.display="block";e.view="chapter";e.currentBook=s;x(e);v(e,e.currentBible)}function w(e){const t=u("select",{className:e.class.selectBook});if(e.currentBooks&&e.currentBooks.data){e.currentBooks.data.forEach((n=>{const s=u("option",{value:n.book_id,innerText:n.name,selected:n.book_id===e.currentBook.book_id});t.appendChild(s)}))}t.addEventListener("change",(t=>{g(e,t.target.value)}));e.bookSelect=t;return t}function B(e){const t=u("select",{className:e.class.selectChapter});if(e.currentBook&&e.currentBook.chapters){e.currentBook.chapters.forEach((n=>{const s=u("option",{value:n,innerText:n,selected:n==e.currentChapter.number});t.appendChild(s)}))}t.addEventListener("change",(t=>$(e,e.currentBook,parseInt(t.target.value))));e.chapterSelect=t;return t}function N(e,t){if(!e.currentChapter||!e.currentChapter.timestamps||e.currentChapter.timestamps.length==0)return;const n=u("select",{className:e.class.selectVerse});e.currentChapter.timestamps.forEach(((e,t)=>{const s=t+1;const a=u("option",{value:s,innerText:`${s}`});n.appendChild(a)}));n.addEventListener("change",(t=>{const n=parseInt(t.target.value,10);const s=n-1;if(e.currentChapter.timestamps&&e.currentChapter.timestamps[s]){const t=e.currentChapter.timestamps[s];const n=b(t);e.audio.currentTime=n}}));const s=u("div",{innerText:":",className:e.class.selectVerseSeparator});t.append(s,n);e.verseSelect=n;T(e)}function T(e){let t=null;e.audio.addEventListener("timeupdate",(()=>{const n=e.audio.currentTime;const s=e.currentChapter.timestamps;let a=-1;for(let e=0;e<s.length;e++){if(n>=b(s[e])){a=e}else{break}}if(a!==-1&&a!==t){t=a;e.verseSelect.value=a+1}}))}function x(e){e.chapterListContainer.innerHTML="";e.bibleListContainer.style.display="none";e.bookListContainer.style.display="none";e.chapterListContainer.style.display="block";const t=document.createDocumentFragment();e.currentBook.chapters.forEach((n=>{const s=u("button",{className:`${e.class.chapterButton} ${e.currentChapter.number==n?" "+e.class.chapterButtonActive:""}`,ariaLabel:`Play Chapter ${n}`,textContent:n,onclick:()=>$(e,e.currentBook,n)});t.appendChild(s)}));e.chapterListContainer.appendChild(t);if(e.currentBook?.book_id){const t=e.art[e.currentBook.book_id]?.[0];if(!t){console.warn(`No art found for book ID: ${e.currentBook.book_id}`);return}const n=document.createElement("img");n.src=`./img/chars/${t.file}`;n.className=t.class;e.chapterListContainer.appendChild(n)}}function $(e,t,n){d(e,t,n);e.chapterSelect.value=n;e.audio.play();const s=document.querySelector(`.icon-play`);s.innerHTML=e.audio.paused?e.icons.play:e.icons.pause;x(e)}function E(e){function t(e,t,n){const s=n.getBoundingClientRect();const a=(e.clientX-s.left)/s.width;t.audio.currentTime=Math.max(0,Math.min(a,1))*t.audio.duration}const n=u("div",{className:e.class?.progress?.container});const s=u("div",{id:"currentTime",className:e.class?.progress?.currentTimeDisplay,textContent:p(e.audio.currentTime)});const a=u("div",{id:"progress-barContainer",className:e.class?.progress?.barContainer});const o=u("div",{id:"progress-barWrapper",className:e.class?.progress?.barWrapper});const i=u("div",{id:"progress-bar",className:e.class?.progress?.barInner,style:{width:"0%"}});const c=u("div",{id:"timestamps-wrapper",className:e.class?.progress?.timestamps});const r=u("div",{className:e.class?.progress?.circleTip,style:{left:"0%"}});o.append(i,r);const l=n=>{if(e.isDragging){t(n,e,o)}};const d=()=>{if(e.isDragging){e.isDragging=false;document.body.style.userSelect="";document.removeEventListener("mousemove",l);document.removeEventListener("mouseup",d)}};o.addEventListener("mousedown",(()=>{e.isDragging=true;document.body.style.userSelect="none";document.addEventListener("mousemove",l);document.addEventListener("mouseup",d)}));o.addEventListener("click",(n=>{t(n,e,o)}));const h=u("div",{className:e.class?.progress?.durationDisplay,textContent:p(e.audio.duration||0)});e.audio.addEventListener("timeupdate",(()=>{const t=e.audio.currentTime/e.audio.duration*100;i.style.width=`${t}%`;r.style.left=`calc(${t}% - 3px)`;s.textContent=p(e.audio.currentTime)}));e.audio.addEventListener("loadedmetadata",(()=>{c.innerHTML="";h.textContent=p(e.audio.duration);if(e.currentChapter.timestamps&&Array.isArray(e.currentChapter.timestamps)){const t=e.currentChapter.timestamps.map(b).filter((t=>t>=0&&t<=e.audio.duration)).sort(((e,t)=>e-t));const n=.25;for(let s=0;s<t.length-1;s++){const a=t[s];const o=t[s+1];const i=(o-a)/e.audio.duration*100;const r=Math.max(0,i-n);const l=a/e.audio.duration*100+n/2;const d=u("div",{className:e.class.progress.tickWrapper,style:{position:"absolute",left:`${l}%`,width:`${r}%`}});const p=u("div",{className:`progress-tick ${e?.class?.progress?.tick} w-full h-full`});p.addEventListener("click",(()=>{e.audio.currentTime=a}));const b=u("div",{className:e.class.progress.tickLabel});b.textContent=`${s+1}`;d.appendChild(p);d.appendChild(b);c.appendChild(d)}}}));a.append(s);a.append(o);a.append(h);n.append(a,c);return n}function M(e){const t=u("div",{className:e.class.navRow});t.append(H(e,"prev"),I(e,"prev"),S(e,"prev"),_(e),S(e,"next"),I(e,"next"),H(e,"next"));const n=u("div",{className:e.class.controlsContainer});n.append(E(e),h(e),t,m(e));return n}function _(e){const t=u("button",{className:e.class.playPauseButton,onclick:()=>e.audio.paused?e.audio.play():e.audio.pause()});const n=u("span",{className:e.class.playPauseIcon,innerHTML:e.icons.play});t.appendChild(n);e.audio.addEventListener("play",(()=>{n.innerHTML=e.icons.pause}));e.audio.addEventListener("pause",(()=>{n.innerHTML=e.icons.play}));return t}function H(e,t){return u("button",{className:e.class[`${t}BookButton`],innerHTML:e.icons[`${t}Book`],onclick:()=>{const n=e.currentBooks.data.findIndex((t=>t.book_id===e.currentBook.book_id));const s=t==="prev"?n-1:n+1;if(e.currentBooks.data[s]){g(e,e.currentBooks.data[s].book_id);$(e,e.currentBooks.data[s],1)}}})}function I(e,t){return u("button",{className:e.class[`${t}ChapterButton`],innerHTML:e.icons[`${t}Chapter`],onclick:()=>R(e,t)})}async function R(e,t){const n=t==="prev"?-1:1;const s=e.currentChapter.number+n;const a=t==="prev"?s>0:s<e.currentBook.chapters.length+1;if(a){$(e,e.currentBook,s);return}const o=e.currentBooks.data.findIndex((t=>t.book_id===e.currentBook.book_id));const i=o+n;const c=e.currentBooks.data[i];if(c){g(e,c.book_id);$(e,c,1)}}function S(e,t){return u("button",{id:`${t}SkipButton`,className:e.class[`${t}SkipButton`],innerHTML:e.icons[`${t}Skip`],onclick:()=>{e.audio.currentTime+(t=="next"?15:-15);e.audio.currentTime=Math.min(Math.max(e.audio.currentTime,0),e.audio.duration)}})}function D(e,t,n){const s=e.toLowerCase();const a=.9;const o=.5;const i=Math.max(o,a-(s.length>10?.15:s.length*.05));return t.reduce(((e,t)=>{let a=0;let o=0;n.forEach((e=>{if(t[e]){const n=t[e].toString().toLowerCase();const c=A(s,n);const r=c/Math.max(s.length,n.length);if(r<=i){a+=r;o++}}}));if(o>0){e.push({item:t,score:a/o})}return e}),[]).sort(((e,t)=>e.score-t.score))}function A(e,t){if(e===t)return 0;const n=Array.from({length:e.length+1},((e,t)=>t));for(let s=1;s<=t.length;s++){let a=n[0];n[0]=s;for(let o=1;o<=e.length;o++){const i=n[o];n[o]=Math.min(n[o]+1,n[o-1]+1,a+(e[o-1]!==t[s-1]));a=i}}return n[e.length]}function P(e){e.bibleListContainer.innerHTML="";const t=u("div",{className:e.class.searchWrapper});const n=u("input",{type:"search",placeholder:`Filter (${e.bibles.length}) Audio Bibles`,autocomplete:"off",className:e.class.searchInput,oninput:()=>{e.query=n.value;e.results=D(e.query,e.bibles,["tt","tv","ln"]);O(e)}});n.setAttribute("aria-label","Search");t.appendChild(n);e.bibleListContainer.appendChild(t);const s=u("div",{className:e.class.bibleListGrid});e.bibleListGrid=s;e.bibleListContainer.appendChild(s);O(e)}function O(e){const t=e.bibleListGrid;t.innerHTML="";const n=e.query?e.results.map((e=>e.item)):e.bibles;const s=document.createDocumentFragment();n.forEach((t=>s.appendChild(G(e,t))));t.appendChild(s)}function G(e,t){const n=u("div",{className:e.class.bibleButton.wrapper});const s=u("button",{className:e.class.bibleButton.button,onclick:()=>q(e,t)});n.appendChild(s);s.dataset.testId=t.id;s.setAttribute("aria-label",t.tv??t.tt);const a=u("div",{className:e.class.bibleButton.languageWrap});a.appendChild(u("h2",{className:e.class.bibleButton.language,textContent:t.ln}));a.appendChild(u("small",{className:e.class.bibleButton.iso,textContent:t.iso}));const o=u("div",{className:e.class.bibleButton.titleWrap});o.appendChild(u("h4",{className:e.class.bibleButton.title,textContent:t.tt}));if(t.tt!==t.tv&&t.tv){const n=u("p",{className:e.class.bibleButton.vernacular,textContent:t.tv});o.appendChild(n)}s.appendChild(a);s.appendChild(o);if(t.dl){const s=u("button",{className:e.class.bibleButton.download,innerHTML:e.icons.download,onclick:()=>j(e,t)});n.appendChild(s)}return n}async function j(e,t){try{if(!t.dl){console.log("Bible object does not contain a valid download URL");return}const n=u("dialog",{className:e.class.bibleDownloadDialog.wrapper});const s=u("div",{innerHTML:e?.download_text??`<div class="text-sm max-w-sm"></div>`});const a=u("div",{innerHTML:`\n            <p class="${e.class.bibleDownloadDialog.audio_copyright}">${t.audio_copyright}</p>\n            <p class="${e.class.bibleDownloadDialog.text_copyright}">${t.text_copyright}</p>`});n.append(s,a);const o=u("button",{className:e.class.bibleDownloadDialog.button_download,textContent:`Download ${t.dl_size??""}`});o.addEventListener("click",(()=>{const e=document.body.appendChild(u("a",{href:t.dl,download:""}));e.click();e.remove();n.close();n.remove()}));n.appendChild(o);const i=u("button",{className:e.class.bibleDownloadDialog.cancel,textContent:"Cancel"});i.addEventListener("click",(()=>{n.close();document.body.removeChild(n)}));n.appendChild(i);document.body.appendChild(n);n.showModal()}catch(e){console.error("An error occurred while trying to display the dialog:",e)}}async function q(e,t){if(t.tp==="hark"){e.view="book";e.currentBible=t;await r(e,t.id);v(e,t);e.render();const n=new URL(window.location);n.searchParams.set("bibleId",t.id);window.history.replaceState({},"",n)}else if(t.tp==="dbl");}function J(e){const t=u("input",{type:"search",placeholder:e.i18n?.filter_books??"Filter Books",className:e.class.searchInput,ariaLabel:"search",autocomplete:"off",oninput:()=>{e.query=t.value;console.log(t.value,e.currentBooks.data);e.resultsBooks=D(e.query,e.currentBooks.data,["name"]);y(e)}});const n=u("div",{className:e.class.searchInputContainer});n.appendChild(t);e.bookListContainer.appendChild(n);e.bookListContainer.appendChild(e.bookListGrid=u("div",{className:e.class.bookListGrid}));y(e)}class U{constructor(s,a){this.container=document.getElementById(s);this.providers=a.providers??["hark"];this.bibles=[];this.currentBible={};this.currentBooks=[];this.currentBook={};this.currentChapter={number:0};this.audio=document.createElement("audio");this.currentType="hark";this.isDragging=false;this.class=e(a.classes);this.icons=t(a.icons);this.art=n(a.art);this.results=[];this.query="";this.titles=a?.titles??[];this.view="bible";this.idPrefix=a?.idPrefix??"audio-player";this.views={bible:{player:"none",bibleListContainer:"block",bookListContainer:"none",chapterListContainer:"none"},book:{player:"block",bibleListContainer:"none",bookListContainer:"block",chapterListContainer:"none"},chapter:{player:"block",bibleListContainer:"none",bookListContainer:"none",chapterListContainer:"block"}}}static async create(e,t){const n=new U(e,t);await a(n);n.container.innerHTML="";const s=n.idPrefix;const o=u("div",{id:`${s}-player-container`,className:n.class.playerContainer});n.bibleListContainer=u("div",{id:`${s}-bible-list-container`,className:n.class.bibleListContainer});n.bookListContainer=u("div",{id:`${s}-book-list-container`,className:n.class.bookListContainer});n.chapterListContainer=u("div",{id:`${s}-chapter-list-container`,className:n.class.chapterListContainer});n.bibleBlock=u("div",{id:`${s}-bible-block`,className:n.class.bibleBlock});n.player=W(n);n.player.prepend(n.bibleBlock);o.append(n.audio,n.player);J(n);o.append(n.bookListContainer,n.chapterListContainer,n.bibleListContainer);n.container.appendChild(o);this.setDefaultView(n);return n}static async setDefaultView(e){const t=new URL(window.location);if(t.searchParams.get("bibleId")){await q(e,e.bibles.find((e=>e.id==t.searchParams.get("bibleId"))));e.view="book"}if(t.searchParams.get("bookId")){await g(e,t.searchParams.get("bookId"));e.view="chapter"}if(e.view==="bible"){P(e)}F(e)}render(){if(this.view==="bible"){P(this)}else if(this.view==="book"){y(this)}else if(this.view==="chapter"){x(this)}F(this)}setData(e){Object.assign(this,e)}}function F(e){const t=e.views[e.view]||views.bible;e.player.style.display=t.player;e.bibleListContainer.style.display=t.bibleListContainer;e.bookListContainer.style.display=t.bookListContainer;e.chapterListContainer.style.display=t.chapterListContainer}function W(e){const t=u("div",{id:"media-player-wrap",className:e.class.mediaPlayerWrap});const n=M(e);t.appendChild(n);return t}export{U as default};
//# sourceMappingURL=AudioPlayer.NoDefaults.min.js.map
